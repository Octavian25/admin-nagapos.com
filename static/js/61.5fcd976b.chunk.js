(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{1249:function(a,t,e){"use strict";e.r(t);var i=e(0),n=e.n(i),s=e(27),o=e(131),r=e(15),d=e(47),c=e(22),l=e.n(c),b=e(24),h=e(13),m=e(55),p=e(7),g=e(92),u=e(227),E=e(328),k=e(329),B=e(30);var K=(a,t)=>{const e={};return a.kondisi_barang||(e.kondisi_barang="Kondisi Barang Tidak Boleh Kosong"),e},j=e(61),O=e.n(j);class f extends i.Component{constructor(...a){super(...a),this.state={aktif:!1}}componentDidMount(){setTimeout(()=>{document.getElementById("kondisi_barang").focus()},100)}render(){return n.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},n.a.createElement("input",{name:"kondisi_barang_lama",type:"hidden"}),this.props.isEdit?n.a.createElement(n.a.Fragment,null,n.a.createElement(E.a,{name:"id",component:B.b,type:"hidden",readOnly:this.props.isEdit})):null,n.a.createElement(E.a,{tabIndex:"1",id:"kondisi_barang",name:"kondisi_barang",component:B.e,type:"text",label:"Kode Kondisi Barang",onBlur:()=>this.setState({aktif:!0}),placeholder:"Masukan Kode Kondisi Barang"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 text-right"},n.a.createElement("button",{className:"btn btn-white",onClick:()=>this.props.dispatch(Object(r.Ab)()),type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",n.a.createElement("button",{tabIndex:"2",className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.submitting,type:"submit"},this.props.isLoading?n.a.createElement(n.a.Fragment,null,n.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?n.a.createElement(O.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}f=Object(k.a)({form:"ModalKondisiBarang",enableReinitialize:!0,validate:K})(f);var S=Object(d.b)(a=>{if(null!==a.datamaster.ShowModalKondisiBarang)return{initialValues:{id:a.datamaster.ShowModalKondisiBarang.id,kondisi_barang_lama:a.datamaster.ShowModalKondisiBarang.kondisi_barang,kondisi_barang:a.datamaster.ShowModalKondisiBarang.kondisi_barang}}},null)(f);const _=(a,t)=>{l.a.fire({html:"Apakah Anda Yakin Ingin Menghapus <h1><b>Kode Kondisi Barang "+a.kondisi_barang+"</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(e=>{e.isConfirmed&&Object(h.b)("parakondisi/delete/by-kode-kondisi/"+a._id,{}).then(()=>{Object(b.d)("Data Berhasil Di Hapus").then(()=>t(Object(r.qb)()))})}).catch(a=>{Object(b.e)("error",a.response.data)})};t.default=Object(d.b)(a=>({DataKondisiBarang:a.datamaster.getDataKondisiBarang,hideModal:a.datamaster.modalDialog}),null)(class extends n.a.Component{constructor(a){super(a),this.state={isEdit:!1,isLoading:!1,modalDialog:!1,columns:[{dataField:"kondisi_barang",text:"Kode Kondisi Barang",sort:!0},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(a,t)=>{let e={id:t._id,kondisi_barang:t.kondisi_barang};return n.a.createElement("div",{className:"row text-center"},n.a.createElement("div",{className:"col-12"},n.a.createElement("button",{onClick:()=>this.formEditKondisiBarang(e),className:"btn btn-primary mr-3"},n.a.createElement("i",{className:"fa fa-edit"})),n.a.createElement("button",{onClick:()=>_(t,this.props.dispatch),className:"btn btn-danger"},n.a.createElement("i",{className:"fa fa-trash"}))))}}]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){this.props.dispatch(Object(r.qb)())}handleSubmit(a){this.setState({isLoading:!0});let t={kondisi_barang:a.kondisi_barang},e={kondisi_barang:a.kondisi_barang};this.state.isEdit?Object(h.p)("parakondisi/edit/by-kode-kondisi/"+a.id,t).then(()=>{this.props.dispatch(Object(r.Ab)())}).then(()=>Object(b.e)("success","Data Berhasil Diedit")).then(()=>{this.props.dispatch(Object(r.qb)())}).then(()=>{this.setState({isLoading:!1})}).then(()=>{this.props.dispatch(Object(m.d)("ModalKondisiBarang"))}).catch(a=>{Object(b.e)("info",void 0===a.response?"Terjadi Kesalahan Saat Megirim Data ":a.response.data),this.setState({isLoading:!1})}):Object(h.j)("parakondisi/add",e).then(()=>{this.props.dispatch(Object(r.Ab)())}).then(()=>Object(b.e)("success","Data Berhasil Disimpan")).then(()=>{this.props.dispatch(Object(r.qb)())}).then(()=>{this.props.dispatch(Object(m.d)("ModalKondisiBarang"))}).then(()=>{this.setState({isLoading:!1})}).catch(a=>Object(p.a)(a,"parakondisi/reactive/by-kode-kondisi/",e,this.props.dispatch,Object(r.qb)(),Object(r.Ab)(),"ModalKondisiBarang").then(()=>{this.setState({isLoading:!1})}))}formEditKondisiBarang(a){this.props.dispatch(Object(r.Bb)()),this.props.dispatch(Object(r.ab)(a)),this.setState({isEdit:!0})}ShowModalKondisiBarang(){this.props.dispatch(Object(r.Bb)()),this.props.dispatch(Object(r.ab)(!1)),this.setState({isEdit:!1})}render(){return n.a.createElement("div",null,n.a.createElement("ol",{className:"breadcrumb float-xl-right"},n.a.createElement("li",{className:"breadcrumb-item"},n.a.createElement(s.b,{to:"#"},"Data Master")),n.a.createElement("li",{className:"breadcrumb-item active"},"Master Kondisi Barang")),n.a.createElement("h1",{className:"page-header"},"Master Kondisi Barang "),n.a.createElement(o.a,null,n.a.createElement(o.c,null,"Master Kondisi Barang"),n.a.createElement("br",null),n.a.createElement("div",{className:"container"},n.a.createElement(g.a,{keyField:"kondisi_barang",tambahData:!0,handleClick:()=>this.ShowModalKondisiBarang(),exportCsv:!0,data:this.props.DataKondisiBarang,columns:this.state.columns,empty:this.props.DataKondisiBarang,textEmpty:"Data Baki Kosong"})),n.a.createElement("br",null),n.a.createElement(u.a,{size:"P",title:this.state.isEdit?"Edit Data Kondisi Barang":"Tambah Data Kondisi Barang",content:n.a.createElement(S,{isEdit:this.state.isEdit,isLoading:this.state.isLoading,onSubmit:a=>this.handleSubmit(a)})})))}})}}]);
//# sourceMappingURL=61.5fcd976b.chunk.js.map