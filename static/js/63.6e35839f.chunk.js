(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{1254:function(e,a,t){"use strict";t.r(a);var s=t(0),n=t.n(s),i=t(27),l=t(131),o=t(15),d=t(47),r=t(22),c=t.n(r),m=t(24),h=t(55),p=t(13),b=t(7),u=t(92),S=t(328),E=t(329),g=t(30);var k=(e,a)=>{const t={};return e.kode_sales||(t.kode_sales="Kode Sales Tidak Boleh Kosong"),e.nama_sales||(t.nama_sales="Nama Sales Tidak Boleh Kosong"),t},O=t(61),_=t.n(O);class f extends s.Component{constructor(...e){super(...e),this.state={aktif:!1}}componentDidMount(){setTimeout(()=>{this.props.isEdit?document.getElementById("nama_sales").focus():document.getElementById("kode_sales").focus()},100)}render(){return n.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},this.props.isEdit?n.a.createElement(n.a.Fragment,null,n.a.createElement(S.a,{name:"id",component:g.b,type:"hidden",readOnly:this.props.isEdit})):null,n.a.createElement(S.a,{tabIndex:"1",id:"kode_sales",name:"kode_sales",component:g.e,type:"text",label:"Kode Sales",placeholder:"Masukan Kode Sales",readOnly:this.props.isEdit}),n.a.createElement(S.a,{id:"nama_sales",tabIndex:"2",name:"nama_sales",component:g.e,type:"text",label:"Nama Sales",onBlur:()=>this.setState({aktif:!0}),placeholder:"Masukan Nama Sales"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 text-right"},n.a.createElement("button",{className:"btn btn-white",onClick:()=>this.props.dispatch(Object(o.Ab)()),type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",n.a.createElement("button",{tabIndex:"3",className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.submitting,type:"submit"},this.props.isLoading?n.a.createElement(n.a.Fragment,null,n.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?n.a.createElement(_.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}f=Object(E.a)({form:"ModalDataSales",enableReinitialize:!0,validate:k})(f);var j=Object(d.b)(e=>{if(null!==e.datamaster.ShowModalSales)return{initialValues:{id:e.datamaster.ShowModalSales.id,kode_sales:e.datamaster.ShowModalSales.kode_sales,nama_sales:e.datamaster.ShowModalSales.nama_sales}}},null)(f),D=t(227);const M=(e,a,t)=>{c.a.fire({html:"Apakah Anda Yakin Ingin Menghapus <h1><b>Kode Sales "+e+"</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(e=>{e.isConfirmed&&Object(p.b)("sales/delete/by-kode-sales/"+a).then(()=>{Object(m.d)("Data Berhasil Di Hapus").then(()=>t(Object(o.sb)()))}).catch(e=>{Object(m.e)("error",e.response.data)})})};a.default=Object(d.b)(e=>({DataSales:e.datamaster.getDataSales,hideModal:e.datamaster.modalDialog}),null)(class extends n.a.Component{constructor(e){super(e),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,columns:[{dataField:"kode_sales",text:"Kode Sales",sort:!0},{dataField:"nama_sales",text:"Nama Sales"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a)=>{let t={id:a._id,kode_sales:a.kode_sales,nama_sales:a.nama_sales};return n.a.createElement("div",{className:"row text-center"},n.a.createElement("div",{className:"col-12"},n.a.createElement("button",{onClick:()=>this.formEditSales(t),className:"btn btn-primary mr-3"},n.a.createElement("i",{className:"fa fa-edit"})),n.a.createElement("button",{onClick:()=>M(a.kode_sales,a._id,this.props.dispatch),className:"btn btn-danger"},n.a.createElement("i",{className:"fa fa-trash"}))))}}]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){this.props.dispatch(Object(o.sb)())}handleSubmit(e){this.setState({isLoading:!0});let a={nama_sales:e.nama_sales},t={kode_sales:e.kode_sales,nama_sales:e.nama_sales};this.state.isEdit?Object(p.p)("sales/edit/by-kode-sales/"+e.id,a).then(()=>{this.props.dispatch(Object(o.Ab)())}).then(()=>{Object(m.e)("success","Data Berhasil Diedit")}).then(()=>{this.props.dispatch(Object(o.sb)())}).then(()=>{this.setState({isLoading:!1})}).then(()=>{this.props.dispatch(Object(h.d)("ModalDataSales"))}).catch(e=>{Object(m.e)("info",void 0===e.response?"Terjadi Kesalahan Saat Megirim Data ":e.response.data),this.setState({isLoading:!1})}):Object(p.j)("sales/add",t).then(()=>{this.props.dispatch(Object(o.Ab)())}).then(()=>{Object(m.e)("success","Data Berhasil Simpan")}).then(()=>{this.props.dispatch(Object(o.sb)())}).then(()=>{this.props.dispatch(Object(h.d)("ModalDataSales"))}).then(()=>{this.setState({isLoading:!1})}).catch(e=>Object(b.a)(e,"sales/reactive/by-kode-sales/",t,this.props.dispatch,Object(o.sb)(),Object(o.Ab)(),"ModalDataSales").then(()=>{this.setState({isLoading:!1})}))}formEditSales(e){this.props.dispatch(Object(o.Bb)()),this.props.dispatch(Object(o.gb)(e)),this.setState({isEdit:!0})}showModalSales(){this.props.dispatch(Object(o.Bb)()),this.props.dispatch(Object(o.gb)(!1)),this.setState({isEdit:!1})}render(){return n.a.createElement("div",null,n.a.createElement("ol",{className:"breadcrumb float-xl-right"},n.a.createElement("li",{className:"breadcrumb-item"},n.a.createElement(i.b,{to:"#"},"Data Master")),n.a.createElement("li",{className:"breadcrumb-item active"},"Master Sales")),n.a.createElement("h1",{className:"page-header"},"Master Sales "),n.a.createElement(l.a,null,n.a.createElement(l.c,null,"Master Sales"),n.a.createElement("br",null),n.a.createElement("div",{className:"container"},n.a.createElement(u.a,{keyField:"kode_sales",tambahData:!0,handleClick:()=>this.showModalSales(),exportCsv:!0,data:this.props.DataSales,columns:this.state.columns,empty:this.props.DataSales,textEmpty:"Data Sales Kosong"})),n.a.createElement("br",null),n.a.createElement(D.a,{title:this.state.isEdit?"Edit Data Sales":"Tambah Data Sales",size:"P",content:n.a.createElement(j,{isLoading:this.state.isLoading,isEdit:this.state.isEdit,onSubmit:e=>this.handleSubmit(e)})})))}})}}]);
//# sourceMappingURL=63.6e35839f.chunk.js.map