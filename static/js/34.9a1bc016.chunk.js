(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1282:function(a,t,e){"use strict";e.r(t);var i=e(0),n=e.n(i),s=e(31),o=e(72),d=e(111),h=e.n(d),c=e(84),l=e.n(c),r=e(173),m=e.n(r),p=e(13),b=e(41),u=e(24),E=e.n(u),k=e(30),g=e(11),S=e(53),D=e(7),f=e(329),j=e(330),N=e(23),O=e(785),H=e(54),_=e.n(H);class x extends i.Component{constructor(...a){super(...a),this.state={aktif:!1}}componentDidMount(){setTimeout(()=>{this.props.isEdit,document.getElementById("nama_hadiah").focus()},100)}render(){return n.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},n.a.createElement(f.a,{id:"kode_hadiah",tabIndex:"1",name:"kode_hadiah",component:N.b,type:"hidden"}),n.a.createElement(f.a,{id:"nama_hadiah",tabIndex:"2",name:"nama_hadiah",component:N.e,type:"text",label:" Nama Hadiah",placeholder:"Masukan  Nama Hadiah"}),n.a.createElement(f.a,{tabIndex:"3",name:"poin",component:N.e,type:"number",label:"Poin",placeholder:"Masukan Poin"}),n.a.createElement(f.a,{tabIndex:"4",name:"stock",component:N.e,type:"number",label:" Stock",placeholder:"Masukan Stock",onBlur:()=>this.setState({aktif:!0})}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 text-right"},n.a.createElement("button",{className:"btn btn-white",onClick:()=>this.props.dispatch(Object(p.Cb)()),type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",n.a.createElement("button",{tabIndex:"5",className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?n.a.createElement(n.a.Fragment,null,n.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?n.a.createElement(_.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}x=Object(j.a)({form:"ModalHadiah",enableReinitialize:!0,validate:O.a})(x);var M=Object(b.b)(a=>{if(null!==a.datamaster.ShowModalDataHadiah)return{initialValues:{nama_hadiah:a.datamaster.ShowModalDataHadiah.nama_hadiah,poin:a.datamaster.ShowModalDataHadiah.poin,stock:a.datamaster.ShowModalDataHadiah.stock,kode_hadiah:a.datamaster.ShowModalDataHadiah.kode_hadiah}}},null)(x),w=e(228);const C=c.Search.SearchBar,v=c.CSVExport.ExportCSVButton,y=(a,t,e)=>{E.a.fire({html:"Apakah Anda Yakin Ingin Menghapus <h1><b>Nama Hadiah "+a+"</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(a=>{a.isConfirmed&&Object(g.b)("hadiah/delete/by-kode-hadiah/",{kode_hadiah:t}).then(()=>{Object(k.d)("Data Berhasil Di Hapus").then(()=>e(Object(p.ob)()))}).catch(a=>{Object(k.e)("error",a.response.data)})})};t.default=Object(b.b)(a=>({datahadiah:a.datamaster.getDataHadiah,hideModal:a.datamaster.modalDialog}),null)(class extends n.a.Component{constructor(a){super(a),this.state={isEdit:!1,isLoading:!1,modalDialog:!1,columns:[{dataField:"nama_hadiah",text:"Nama Hadiah",sort:!0},{dataField:"poin",text:"Poin"},{dataField:"stock",text:"Stock"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(a,t)=>{let e={kode_hadiah:t.kode_hadiah,nama_hadiah:t.nama_hadiah,stock:t.stock,poin:t.poin};return n.a.createElement("div",{className:"row text-center"},n.a.createElement("div",{className:"col-12"},n.a.createElement("button",{onClick:()=>this.formEditDataHadiah(e),className:"btn btn-primary mr-3"},n.a.createElement("i",{className:"fa fa-edit"})),n.a.createElement("button",{onClick:()=>y(t.nama_hadiah,t.kode_hadiah,this.props.dispatch),className:"btn btn-danger"},n.a.createElement("i",{className:"fa fa-trash"}))))}}]},this.handleSubmit=this.handleSubmit.bind(this)}formEditDataHadiah(a){this.props.dispatch(Object(p.Db)()),this.props.dispatch(Object(p.V)(a)),this.setState({isEdit:!0})}ShowModalDataHadiah(){this.props.dispatch(Object(p.Db)()),this.props.dispatch(Object(p.V)(!1)),this.setState({isEdit:!1})}componentDidMount(){this.props.dispatch(Object(p.ob)())}handleSubmit(a){this.setState({isLoading:!0});let t={kode_hadiah:a.kode_hadiah,nama_hadiah:a.nama_hadiah,poin:a.poin,stock:a.stock},e={nama_hadiah:a.nama_hadiah,poin:a.poin,stock:a.stock};this.state.isEdit?Object(g.p)("hadiah/edit/by-kode-hadiah",t).then(()=>{this.props.dispatch(Object(p.Cb)())}).then(()=>{Object(k.e)("success","Data Berhasil Diedit")}).then(()=>{this.props.dispatch(Object(p.ob)())}).then(()=>{this.setState({isLoading:!1})}).then(()=>{this.props.dispatch(Object(S.d)("ModalHadiah"))}).catch(a=>{Object(k.e)("info","Terjadi Kesalahan Saat Mengirim Data"),this.setState({isLoading:!1})}):Object(g.j)("hadiah/add",e).then(()=>{this.props.dispatch(Object(p.Cb)())}).then(()=>{Object(k.e)("success","Data Berhasil Simpan")}).then(()=>{this.props.dispatch(Object(p.ob)())}).then(()=>{this.props.dispatch(Object(S.d)("ModalHadiah"))}).then(()=>{this.setState({isLoading:!1})}).catch(t=>Object(D.a)(t,"sales/reactive/by-kode-sales/",a.kode_sales,e,this.props.dispatch,Object(p.ob)(),Object(p.Cb)(),"ModalHadiah").then(()=>{this.setState({isLoading:!1})}))}render(){return n.a.createElement("div",null,n.a.createElement("ol",{className:"breadcrumb float-xl-right"},n.a.createElement("li",{className:"breadcrumb-item"},n.a.createElement(s.b,{to:"#"},"Data Master")),n.a.createElement("li",{className:"breadcrumb-item active"},"Master Data Hadiah")),n.a.createElement("h1",{className:"page-header"},"Master Data Hadiah "),n.a.createElement(o.a,null,n.a.createElement(o.c,null,"Master Data Hadiah"),n.a.createElement("br",null),n.a.createElement("div",{className:"container"},n.a.createElement(l.a,{keyField:"kondisi",data:this.props.datahadiah||[],columns:this.state.columns,search:!0,exportCSV:{fileName:"Export Master Data Hadiah.csv"}},a=>n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-6"},n.a.createElement("button",{onClick:()=>this.ShowModalDataHadiah(),className:"btn btn-primary"}," ",n.a.createElement("i",{className:"fa fa-plus"})," ")),n.a.createElement("div",{className:"col-6"},n.a.createElement("div",{className:"text-right"},n.a.createElement(C,a.searchProps))),n.a.createElement("hr",null),n.a.createElement("div",{className:"col-12"},n.a.createElement(h.a,Object.assign({pagination:m()()},a.baseProps)),n.a.createElement("br",null),n.a.createElement(v,a.csvProps,"Export CSV!!"))))),n.a.createElement("br",null),n.a.createElement(w.a,{title:this.state.isEdit?"Edit Data Data Hadiah":"Tambah Data Data Hadiah",size:"P",content:n.a.createElement(M,{isLoading:this.state.isLoading,isEdit:this.state.isEdit,onSubmit:a=>this.handleSubmit(a)})})))}})},785:function(a,t,e){"use strict";t.a=((a,t)=>{const e={};return a.nama_hadiah||(e.nama_hadiah="Nama Hadiah Tidak Boleh Kosong"),a.poin||(e.poin="Poin Tidak Boleh Kosong"),e})}}]);
//# sourceMappingURL=34.9a1bc016.chunk.js.map