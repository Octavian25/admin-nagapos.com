(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{1189:function(e,a,t){"use strict";t.r(a);var o=t(0),c=t.n(o),l=t(31),d=t(30),n=t(72),r=t(11),s=t(94),i=t(329),b=t(330),m=t(41),g=t(13),k=t(23),_=t(7),h=t(1);class p extends c.a.Component{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.state={activeTab:"1",loading:!1,isLoading:!1,kode_baki:"",kode_gudang:"",databarang:[],columns:[{dataField:"kode_barcode",text:"Kode Barcode "},{dataField:"nama_barang",text:"Nama Barang "},{dataField:"kode_dept",text:"Kode Jenis "},{dataField:"berat",text:"Berat "},{dataField:"kode_intern",text:"Kode Intern "}]}}toggle(e){this.state.activeTab!==e&&this.setState({activeTab:e})}componentDidMount(){Object(_.p)("cetak_barcode_selected",[]),this.props.dispatch(Object(g.nb)()),this.props.dispatch(Object(g.lb)())}setSystem(e){let a={key:"kategori_harga",value:e,type:"kategori_harga"};Object(r.k)("para-system/",a).then(()=>{Object(d.e)("success","Berhasil Setting System")})}getBarcode(){this.setState({isLoading:!0}),Object(r.e)("tambah-barang?kode_gudang=".concat(this.state.kode_gudang||"ALL","&kode_toko=").concat(this.state.kode_baki||"ALL")).then(e=>{0===e.data.length?(Object(d.e)("info","Data Yang Anda Cari Tidak Ada"),this.setState({isLoading:!1,databarang:[]})):(Object(d.e)("success","Data Barang Tersedia"),this.setState({isLoading:!1,databarang:e.data}))}).catch(e=>{Object(d.e)("info","Terjadi Kesalahan Saat Request Data"),this.setState({isLoading:!1,databarang:[]})})}print(){let e=JSON.parse(localStorage.getItem("cetak_barcode_selected"))||[];if(0===e.length)Object(d.e)("info","Silahkan pilih barcode terlebih dahulu");else{Object(r.j)("tmp-barang",e).then(e=>{Object(d.e)("success","Data Berhasil Disimpan")}).catch(e=>{Object(d.e)("info","Data Gagal Disimpan")});let a="",t=1;e.map((o,c)=>(1===e.length?a+=o.kode_barcode:t===e.length?a+=o.kode_barcode:a=a+o.kode_barcode+",",t++,!0)),document.getElementById("barcode").value=a,this.TextFilenotapesanan()}}TextFilenotapesanan(){const e=document.createElement("a"),a=new Blob([document.getElementById("barcode").value],{type:"text/plain;charset=utf-8"});e.href=URL.createObjectURL(a),e.download="autoprint_barcode.txt",document.body.appendChild(e),e.click()}render(){let e=[{value:"ALL",name:"SEMUA"}];this.props.dataGudang.forEach(a=>{let t={value:a.kode_gudang,name:a.kode_gudang+" - "+a.nama_gudang};e.push(t)});let a=[{value:"ALL",name:"SEMUA"}];this.props.databaki.forEach(e=>{let t={value:e.kode_baki,name:e.kode_baki+" - "+e.nama_baki};a.push(t)});const t={mode:"checkbox",clickToSelect:!0,selectColumnPosition:"left",onSelect:(e,a,t,o)=>{if(!0===a){let a={kode_barcode:e.kode_barcode,nama_barang:e.nama_barang,berat:e.berat,kode_intern:e.kode_intern,kode_dept:e.kode_dept},t=JSON.parse(localStorage.getItem("cetak_barcode_selected"))||[];-1===t.findIndex(a=>a.kode_barcode===e.kode_barcode)&&(t.push(a),localStorage.setItem("cetak_barcode_selected",JSON.stringify(t)))}else if(null===localStorage.getItem("cetak_barcode_selected"));else{let a=(JSON.parse(localStorage.getItem("cetak_barcode_selected"))||[]).findIndex(a=>a.kode_barcode===e.kode_barcode),t=JSON.parse(localStorage.getItem("cetak_barcode_selected"));t.splice(a,1),localStorage.setItem("cetak_barcode_selected",JSON.stringify(t))}},onSelectAll:(e,a,t)=>{a.forEach((a,t)=>{if(!0===e){let e={kode_barcode:a.kode_barcode,nama_barang:a.nama_barang,berat:a.berat,kode_intern:a.kode_intern,kode_dept:a.kode_dept,kadar_cetak:a.kadar_cetak},t=JSON.parse(localStorage.getItem("cetak_barcode_selected"))||[];-1===t.findIndex(e=>e.kode_barcode===a.kode_barcode)&&(t.push(e),localStorage.setItem("cetak_barcode_selected",JSON.stringify(t)))}else if(null===localStorage.getItem("cetak_barcode_selected"));else{let e=(JSON.parse(localStorage.getItem("cetak_barcode_selected"))||[]).findIndex(e=>e.kode_barcode===a.kode_barcode),t=JSON.parse(localStorage.getItem("cetak_barcode_selected"));t.splice(e,1),localStorage.setItem("cetak_barcode_selected",JSON.stringify(t))}})}};return c.a.createElement("div",null,c.a.createElement("ol",{className:"breadcrumb float-xl-right"},c.a.createElement("li",{className:"breadcrumb-item"},c.a.createElement(l.b,{to:"#"},"Dashboard")),c.a.createElement("li",{className:"breadcrumb-item"},"Cetak Barcode")),c.a.createElement("h1",{className:"page-header"},"Cetak Barcode"),c.a.createElement(n.a,null,c.a.createElement(n.c,null,"Cetak Barcode"),c.a.createElement("br",null),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"d-none"},c.a.createElement("textarea",{style:{display:"none"},id:"barcode",rows:"100",cols:"100"})),c.a.createElement("div",{className:"col-3"},!1===this.state.loading?c.a.createElement(i.a,{label:"Gudang",name:"kode_gudang",options:e,placeholder:"Silahkan Pilih Kode Baki",onChange:e=>{"ALL"!==e?this.props.dispatch(Object(g.mb)(e)):this.props.dispatch(Object(g.lb)()),this.setState({kode_gudang:e})},component:k.f}):c.a.createElement(k.g,{label:"Kode Baki"})),c.a.createElement("div",{className:"col-3"},!1===this.state.loading?c.a.createElement(i.a,{label:"Kode Baki",name:"kode_baki",options:a,onChange:e=>{this.setState({kode_baki:e})},placeholder:"Silahkan Pilih Kode Baki",component:k.f}):c.a.createElement(k.g,{label:"Kode Baki"})),c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("label",{htmlFor:""},"\xa0"),c.a.createElement("button",{className:"btn btn-outline-secondary btn-block",onClick:e=>this.getBarcode(e)},this.state.isLoading?c.a.createElement(c.a.Fragment,null,c.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Data")),c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("label",{htmlFor:""},"\xa0"),c.a.createElement("button",{className:"btn btn-primary btn-block",onClick:()=>this.print()},"Print Barcode"))))),c.a.createElement(s.a,{selectRow:t,keyField:"kode_barcode",columns:this.state.columns,data:this.state.databarang||[],empty:!0})),c.a.createElement("br",null)),this.state.isLoading?c.a.createElement(h.h,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}p=Object(b.a)({form:"CetakBarcode",enableReinitialize:!0})(p),a.default=Object(m.b)(e=>({databaki:e.datamaster.getDataBaki,dataGroup:e.datamaster.GetDataGroup,dataJenis:e.datamaster.getDataJenis,dataGudang:e.datamaster.getDataGudang}))(p)}}]);
//# sourceMappingURL=120.a87162e9.chunk.js.map