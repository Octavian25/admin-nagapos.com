(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1260:function(t,a,e){"use strict";e.r(a);var n=e(26),i=e(27),l=e(45),s=e(29),o=e(28),c=e(0),r=e.n(c),u=e(41),_=e(31),d=e(53),m=e(330),g=e(69),h=e(7),b=e(30),p=e(72),f=e(11),S=e(780),v=e(13),k=e(94),O=e(54),N=e.n(O);class j extends c.Component{constructor(t){super(t),this.state={isLoading:!1,DataValidasi:[],kode_sales:!1}}componentDidMount(){this.props.dispatch(Object(v.ub)()),this.getDetaValidasi()}getDataSales(t){this.setState({kode_sales:t}),Object(f.d)("sales/get/by-kode-sales/").then(t=>{this.props.change("nama_sales",t.data.nama_sales)}).catch(t=>{Object(b.e)("info","Gagal Mengambil Data Keserver")})}getDetaValidasi(){this.setState({isLoading:!0});let t={kode_sales:"all"};if(!1===t.kode_sales)return this.setState({isLoading:!1}),Object(b.e)("info","Kode Sales Harus Di pilih"),this.setState({isLoading:!1}),!1;Object(f.j)("validasi/get/hutang",t).then(t=>{0===t.data[0].hutang.length?(Object(b.e)("info","Belum Ada Data Validasi"),this.setState({isLoading:!1})):(Object(b.e)("success","Data Validasi Tersedia"),this.setState({isLoading:!1}),this.props.dispatch(Object(g.j)(t.data[0].hutang)))}).catch(t=>{Object(b.e)("info","Terjadi Kesalahan Saat Request"),this.setState({isLoading:!1,DataValidasi:[]})})}render(){const t={mode:"checkbox",clickToSelect:!0,selectColumnPosition:"left",onSelect:(t,a,e,n)=>{if(!0===a){let a={no_faktur_hutang:t.no_faktur_hutang},e=JSON.parse(localStorage.getItem("validas_hutang"))||[];-1===e.findIndex(a=>a.no_faktur_hutang===t.no_faktur_hutang)&&(e.push(a),localStorage.setItem("validas_hutang",JSON.stringify(e)))}else if(null===localStorage.getItem("validas_hutang"));else{let a=JSON.parse(localStorage.getItem("validas_hutang"));a.splice(t.no_faktur_hutang,1),localStorage.setItem("validas_hutang",JSON.stringify(a))}},onSelectAll:(t,a,e)=>{a.forEach((a,e)=>{if(!0===t){let t={no_faktur_hutang:a.no_faktur_hutang},e=JSON.parse(localStorage.getItem("validas_hutang"))||[];-1===e.findIndex(t=>t.no_faktur_hutang===a.no_faktur_hutang)&&(e.push(t),localStorage.setItem("validas_hutang",JSON.stringify(e)))}else if(null===localStorage.getItem("validas_hutang"));else{let t=JSON.parse(localStorage.getItem("validas_hutang"));t.splice(a.no_faktur_hutang,1),localStorage.setItem("validas_hutang",JSON.stringify(t))}})}};return r.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off",onKeyPress:t=>{"Enter"===t.key&&t.preventDefault()}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(k.a,{selectRow:t,keyField:"no_faktur_hutang",columns:this.props.columns,data:this.props.getValidasiHutang||[],empty:!0})),r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Validasi"):"Validasi")),r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{className:"btn btn-warning btn-block",disabled:this.props.isLoadingBatal,onClick:this.props.btnClear,type:"button"},this.props.isLoadingBatal?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Batal"):"Batal"))),this.props.isLoading||this.props.isLoadingBatal||this.state.isLoading?r.a.createElement(N.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}j=Object(m.a)({form:"HeadValidasiHutang",enableReinitialize:!0})(j);var x=Object(u.b)(t=>({DataSales:t.datamaster.getDataSales,getValidasiHutang:t.hutang.getDataValidasiHutang}))(j),E=function(t){Object(s.a)(e,t);var a=Object(o.a)(e);function e(t){var i;return Object(n.a)(this,e),(i=a.call(this,t)).state={isLoading:!1,isLoadingBatal:!1,columns:[{dataField:"no_faktur_hutang",text:"No Faktur Hutang "},{dataField:"nama_customer",text:"Nama Customer "},{dataField:"jumlah_hutang",text:"Jumlah Hutang ",formatter:function(t){return r.a.createElement("span",null,parseFloat(t).toLocaleString("kr-KO"))}},{dataField:"no_hp",text:"No Hp "},{dataField:"alamat_customer",text:"Alamat "}]},i.handleSubmit=i.handleSubmit.bind(Object(l.a)(i)),i}return Object(i.a)(e,[{key:"handleSubmit",value:function(t){var a=this;if(null===localStorage.getItem("validas_hutang")||0===JSON.parse(localStorage.getItem("validas_hutang")).length)Object(b.e)("info","No Faktur Hutang Belum Dipilih"),this.setState({isLoading:!1});else{var e={hutang:JSON.parse(localStorage.getItem("validas_hutang")||[])};this.setState({isLoading:!0}),Object(f.m)("validasi/simpan/hutang",e).then(function(t){if(a.setState({isLoading:!1}),(Object(h.g)("module")||[]).findIndex(function(t){return"PREVIEW_NOTA_HUTANG_MODULE"===t.key})>=0)Object(S.a)(t.data.notahutang);else{for(var e=[],n=0;n<2;n++){var i="";t.data.notahutang.forEach(function(t,a){var e=t.n_alamat_customer.length;i+="========================================\n",i+="              NOTA HUTANG               \n",i+="========================================\nTanggal          : ".concat(t.tgl_system,"\nKode Sales       : ").concat(t.kode_sales,"\nNama Customer    : ").concat(t.nama_customer,"\nNo Hp            : ").concat(t.no_hp,"\nAlamat Customer  : ").concat(t.n_alamat_customer.slice(0,20),"\nNo Faktur Hutang : ").concat(t.no_faktur_hutang.toLocaleString("kr-KO"),"\n"),e>20&&(i+="                   ".concat(t.n_alamat_customer.slice(0,20),"\n")),e>40&&(i+="                   ".concat(t.n_alamat_customer.slice(40,20),"\n")),i+="========================================\n",i+="Keterangan\n",i+="========================================\n",t.detail_barang.forEach(function(t,a){i+="Nama Barang      : ".concat(t.nama_barang,"\n"),i+="Kondisi          : ".concat(t.kondisi,"\n"),i+="Kategori         : ".concat(t.kategori,"\n"),i+="Jumlah           : ".concat(t.jumlah,"\n"),i+="Berat            : ".concat(t.berat.toFixed(3),"\n"),i+="========================================\n"}),i+="Berat            : ".concat(t.berat.toFixed(3),"\n"),i+="Bunga            : ".concat(t.bunga.toFixed(3),"\n"),i+="Jumlah Hutang    : ".concat(t.jumlah_hutang.toLocaleString("kr-KO"),"\n"),i+="========================================\n",i+="                               TTD      \n",i+="                                        \n",i+="                                        \n",i+="                                        \n",i+="                         (             )\n",i+="                                        \n",i+="                                        \n",i+="                                        \n"}),e.push(i)}document.getElementById("myInput").value=e.join(""),setTimeout(function(){var t=document.createElement("a"),a=new Blob([document.getElementById("myInput").value],{type:"text/plain;charset=utf-8"});t.href=URL.createObjectURL(a),t.download="autoprint_hutang.txt",document.body.appendChild(t),t.click()},300)}Object(b.e)("success","Hutang Berhasil Di Validasi"),localStorage.removeItem("validas_hutang"),a.props.dispatch(Object(d.d)("HeadValidasiHutang")),a.props.dispatch(Object(g.j)([]))}).catch(function(t){a.setState({isLoading:!1}),Object(b.e)("info","Gagal Mengambil Data Keserver")})}}},{key:"clearHutang",value:function(){var t=this;this.setState({isLoadingBatal:!0}),setTimeout(function(){t.setState({isLoadingBatal:!1}),localStorage.removeItem("validas_hutang"),t.props.dispatch(Object(d.d)("HeadValidasiHutang")),t.props.dispatch(Object(g.j)([]))},1e3)}},{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement("ol",{className:"breadcrumb float-xl-right"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(_.b,{to:"#"},"Kasir")),r.a.createElement("li",{className:"breadcrumb-item active"},"Validasi Hutang")),r.a.createElement("h1",{className:"page-header"},"Validasi Hutang "),r.a.createElement(p.a,null,r.a.createElement("textarea",{style:{display:"none"},id:"myInput",rows:"100",cols:"100"}),r.a.createElement(p.c,null,"Validasi Hutang"),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(x,{columns:this.state.columns,isLoading:this.state.isLoading,isLoadingBatal:this.state.isLoadingBatal,btnClear:function(){return t.clearHutang()},onSubmit:function(a){return t.handleSubmit(a)}})),r.a.createElement("div",{className:"col-12"}))),r.a.createElement("br",null)))}}]),e}(r.a.Component);E=Object(m.a)({form:"FormValidasiHutang",enableReinitialize:!0})(E);a.default=Object(u.b)()(E)},780:function(t,a,e){"use strict";var n=e(109),i=(e(227),e(7)),l=e(781),s=e.n(l),o=e(782),c=e.n(o);a.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],new n.default("l","mm",[218,140])),e=[],l=[];t.forEach(function(t,n){0!==n&&a.addPage(),a.setFontSize(10),a.addImage(s.a,"png",14,10,20,20),a.text(90,15,"PUSAT KOPRASI KEPOLISIAN RI\n DAERAH JAWA TIMUR\n (POUSKOPPOLDA JATIM)","center"),a.text(90,30,"Badan Hukum No. 6067 B / BH / II / 1969\nTanggal 8 Juli 1985 ","center"),a.setFontSize(10),a.text("UNIT ANEKA USAHA\nTOKO EMAS ".concat(Object(i.j)().nama_toko),170,15,"center");var o=Object(i.j)().alamat_toko.length;o>10&&a.text(Object(i.j)().alamat_toko.slice(0,48),145,30),o>50&&a.text(Object(i.j)().alamat_toko.slice(48,90),145,30),a.setFontSize(10),a.setProperties({title:"REPRINT NOTA HUTANG"}),a.text(14,35,"_______________________________________________________________________________________________"),a.setFontSize(10),a.text(14,43,"TANGGAL"),a.text(35,43,": ".concat(t.tgl_system)),a.text(14,48,"NILAI"),a.text(35,48,": ".concat(t.jumlah_hutang.toLocaleString("kr-KO"))),a.text(90,43,"No.".concat(t.no_faktur_hutang)),a.text(140,43,"Nama"),a.text(152,43,": ".concat(t.nama_customer)),a.text(140,48,"Alamat"),a.text(152,48,": ".concat(t.n_alamat_customer)),a.text(140,53,"Telp"),a.text(152,53,": ".concat(t.no_hp)),a.text(90,53,"Sales"),a.text(100,53,": ".concat(t.kode_sales)),l=[[{content:"NAMA BARANG",styles:{halign:"center"}},{content:"KADAR",styles:{halign:"center"}},{content:"BERAT",styles:{halign:"center"}}]];var r=0;t.detail_barang.forEach(function(t){r+=t.berat;var a=[t.nama_barang,{content:"-",styles:{halign:"center"}},{content:"".concat(t.berat," GR"),styles:{halign:"center"}}];l.push(a)}),a.setFontSize(10),a.text(14,100,"Jumlah"),a.text(30,100,": Rp: ".concat(t.jumlah_hutang.toLocaleString("ko-Ko"))),a.text(14,105,"Terbilang"),a.text(30,105,": ".concat(c()(t.jumlah_hutang))),a.text(150,105,"Total Berat"),a.text(170,105,": ".concat(r," Gr")),a.text(14,107,"_______________________________________________________________________________________________"),a.setFontSize(10),a.text(14,112,"Keterangan"),a.text(14,118,"Apabila titipan (jaminan) tidak bisa di beli kembali dalam waktu 3(tiga)\nbulan atau tidak dibayar dari keuntungannya, maka pihak UNIT ANEKA USAHA\nTOKO EMAS SUMBER URIP berhak menjual barang-barang tersebut tanpa\npemberitahuan kepada pemilik"),a.text(169,112,"Peminjam"),a.text(165,130,"(.........................)"),a.setFontSize(8),a.text(135,130,"Tgl Cetak : ".concat(t.tgl_system)),a.autoTable({head:l,body:e,startY:60,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,lineWidth:.01,lineColor:"#000"}})}),e=[],a.setFontSize(10);var o=a.output("datauristring"),r=window.open();r.document.open(),r.document.write("<html><head><title>LAPORAN  BARANG DETAIL</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+o+"></embed></body></html>"),r.document.close()}},781:function(t,a,e){t.exports=e.p+"static/media/POUSKOPPOLDA.150036b4.png"},782:function(t,a,e){"use strict";var n=["","ribu","juta","milyar","triliun","quadriliun","quintiliun","sextiliun","septiliun","oktiliun","noniliun","desiliun","undesiliun","duodesiliun","tredesiliun","quattuordesiliun","quindesiliun","sexdesiliun","septendesiliun","oktodesiliun","novemdesiliun","vigintiliun"],i=n.length-1;function l(t){var a=t/3;return a<=i?n[a]:n[i]}var s=["","satu","dua","tiga","empat","lima","enam","tujuh","delapan","sembilan"];function o(t){return s[t]||""}var c=function(t){var a=t.length,e=a-1;if(0===e&&0===Number(t[0]))return"nol";for(var n="",i="",s=0;s!==a;){var c=e-s,r=c%3,u=Number(t[s]);if(3===c&&1===u&&(0===s||0===Number(t[s-2])&&0===Number(t[s-1])))i+="".concat(n,"seribu");else if(0!==u)if(0===r)i+="".concat(n).concat(o(u)).concat(s===e?"":" ").concat(l(c));else if(2===r)i+=1===u?"".concat(n,"seratus"):"".concat(n).concat(o(u)," ratus");else if(1===u){s++;var _=Number(t[s]);0===_?(i+="".concat(n,"sepuluh"),1===c||0===Number(t[s-2])&&0===Number(t[s-1])||(i+=" ".concat(l(c-1)))):(i+=1===_?"".concat(n,"sebelas"):"".concat(n).concat(o(_)," belas"),1!==c&&(i+=" ".concat(l(c-1))))}else i+="".concat(n).concat(o(u)," puluh");else 0!==r||0===Number(t[s-2])&&0===Number(t[s-1])||0===c||(i+=" ".concat(l(c)));s<=1&&(n=" "),s++}return i};t.exports=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{decimal:"."};return"string"!==typeof t&&(t=String(t)),t.indexOf(a.decimal)>-1?(t=t.split(a.decimal),"".concat(c(t[0])," koma ").concat(t[1].split("").map(function(t){return 0==t?"nol":o(t)}).join(" "))):c(t)}}}]);
//# sourceMappingURL=13.0ec63f7e.chunk.js.map