(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{1270:function(e,a,t){"use strict";t.r(a);var s=t(0),n=t.n(s),i=t(31),r=t(72),c=t(13),l=t(41),o=t(94),m=t(228),d=t(329),p=t(330),h=t(23),b=t(54),k=t.n(b);class u extends s.Component{constructor(e){super(e),this.state={aktif:!1}}componentDidMount(){setTimeout(()=>{this.props.isEdit?document.getElementById("nama_marketplace").focus():document.getElementById("kode_marketplace").focus()},100)}render(){return n.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off",onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},this.props.isEdit?n.a.createElement(n.a.Fragment,null,n.a.createElement(d.a,{name:"id",component:h.b,type:"hidden",readOnly:this.props.isEdit})):null,n.a.createElement("div",{className:"form-group"},n.a.createElement(d.a,{tabIndex:"1",id:"kode_marketplace",label:"Kode Marketplcae",name:"kode_marketplace",readOnly:this.props.isEdit,placeholder:"Silahkan Masukan Kode Marketplcae",component:h.e})),n.a.createElement("div",{className:"form-group"},n.a.createElement(d.a,{tabIndex:"2",id:"nama_marketplace",label:"Nama Marketplcae",name:"nama_marketplace",placeholder:"Silahkan Masukan Nama Marketplcae",onBlur:()=>this.setState({aktif:!0}),component:h.e})),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 text-right"},n.a.createElement("button",{className:"btn btn-white",onClick:()=>this.props.dispatch(Object(c.Cb)()),type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",n.a.createElement("button",{tabIndex:"3",className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?n.a.createElement(n.a.Fragment,null,n.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?n.a.createElement(k.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}u=Object(p.a)({form:"HeadDataMarketPlcae",enableReinitialize:!0})(u);var E=Object(l.b)(e=>{if(null!==e.datamaster.showModalMarketPlace)return{initialValues:{id:e.datamaster.showModalMarketPlace.id,kode_marketplace:e.datamaster.showModalMarketPlace.kode_marketplace,nama_marketplace:e.datamaster.showModalMarketPlace.nama_marketplace}}},null)(u),g=t(11),M=t(30),f=t(53),D=t(24),j=t.n(D);const O=(e,a)=>{j.a.fire({html:"Apakah Anda Yakin Ingin Menghapus <h1><b>Kode Sales "+e.kode_marketplace+"</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(t=>{t.isConfirmed&&Object(g.b)("marketplace/"+e._id).then(()=>{Object(M.e)("success","Data Berhasil Di Hapus").then(()=>a(Object(c.tb)()))}).catch(e=>{Object(M.e)("error","Terjadi Kesalahan Saat Mengirim Data")})})};a.default=Object(l.b)(e=>({getDataMarketplace:e.datamaster.getDataMarketplace}),null)(class extends n.a.Component{constructor(e){super(e),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,columns:[{dataField:"kode_marketplace",text:"Kode Marketplace",sort:!0},{dataField:"nama_marketplace",text:"Nama Marketplace"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a)=>{let t={id:a._id,kode_marketplace:a.kode_marketplace,nama_marketplace:a.nama_marketplace};return n.a.createElement("div",{className:"row text-center"},n.a.createElement("div",{className:"col-12"},n.a.createElement("button",{onClick:()=>this.formEdit(t),className:"btn btn-primary mr-3"}," ",n.a.createElement("i",{className:"fa fa-edit"})),"\xa0",n.a.createElement("button",{onClick:()=>O(a,this.props.dispatch),className:"btn btn-danger mr-3"}," ",n.a.createElement("i",{className:"fa fa-trash"}))))}}]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){this.props.dispatch(Object(c.tb)())}handleSubmit(e){this.setState({isLoading:!0});let a={kode_marketplace:e.kode_marketplace,nama_marketplace:e.nama_marketplace};this.state.isEdit?Object(g.p)("marketplace/"+e.id,{nama_marketplace:e.nama_marketplace}).then(()=>{this.props.dispatch(Object(c.Cb)())}).then(()=>{Object(M.e)("success","Data Berhasil Disimpan")}).then(()=>{this.props.dispatch(Object(c.tb)())}).then(()=>{this.setState({isLoading:!1})}).then(()=>{this.props.dispatch(Object(f.d)("HeadDataMarketPlcae"))}).catch(e=>{Object(M.e)("info",void 0===e.response?"Terjadi Kesalahan Saat Megirim Data ":e.response.data),this.setState({isLoading:!1})}):Object(g.j)("marketplace",a).then(()=>{this.props.dispatch(Object(c.Cb)())}).then(()=>{Object(M.e)("success","Data Berhasil Disimpan")}).then(()=>{this.props.dispatch(Object(c.tb)())}).then(()=>{this.props.dispatch(Object(f.d)("HeadDataMarketPlcae"))}).then(()=>{this.setState({isLoading:!1})}).catch(e=>{Object(M.e)("info","Terjadi Kesalahan Saat Mengirim Data"),this.setState({isLoading:!1})})}formEdit(e){this.props.dispatch(Object(c.Db)()),this.props.dispatch(Object(c.Eb)(e)),this.setState({isEdit:!0})}showmodaltambah(){this.props.dispatch(Object(c.Db)()),this.props.dispatch(Object(c.Eb)([])),this.setState({isEdit:!1})}render(){return n.a.createElement("div",null,n.a.createElement("ol",{className:"breadcrumb float-xl-right"},n.a.createElement("li",{className:"breadcrumb-item"},n.a.createElement(i.b,{to:"#"},"Data Master")),n.a.createElement("li",{className:"breadcrumb-item active"},"Data Marketplace")),n.a.createElement("h1",{className:"page-header"},"Data Marketplace "),n.a.createElement(r.a,null,n.a.createElement(r.c,null,"Data Marketplace"),n.a.createElement("br",null),n.a.createElement("div",{className:"container"},n.a.createElement(o.a,{keyField:"kode_marketplace",exportCsv:!0,tambahData:!0,handleClick:()=>this.showmodaltambah(),data:this.props.getDataMarketplace,columns:this.state.columns,empty:this.props.getDataMarketplace,textEmpty:"Data Marketplace Kosong"})),n.a.createElement("br",null),n.a.createElement(m.a,{size:"P",title:this.state.isEdit?"Edit Data Marketplace":"Tambah Data Marketplace",content:n.a.createElement(E,{isEdit:this.state.isEdit,isLoading:this.state.isLoading,onSubmit:e=>this.handleSubmit(e)})})))}})}}]);
//# sourceMappingURL=59.116613c6.chunk.js.map