{"version":3,"sources":["pages/Penjualan/BatalTitipan/HeadBatalTitipan.jsx","pages/Penjualan/BatalTitipan/index.jsx"],"names":["HeadBatalTitipan","React","Component","constructor","props","super","this","state","date","Date","setStartDate","bind","setLastDate","handleSubmit","data","setState","tgl_awal","tgl_akhir","render","library","createElement","onSubmit","onKeyPress","e","key","preventDefault","autoComplete","className","name","component","InputDate","label","type","selected","onChange","placeholder","value","isLoading","Fragment","loading_default","a","loading","background","loaderColor","reduxForm","form","enableReinitialize","connect","initialValues","getTglSystem","BatalTitipan","batal","datatitipan","databaki","columns","dataField","text","footerAttrs","colSpan","footer","formatter","rowcontent","row","index","parseInt","total_dp","toLocaleString","columnData","reduce","acc","item","cell","csvExport","headerClasses","disabled","status_titipan","data-tooltip","onClick","showPilihBaki","no_titip_group","batalTitipan","Swal","fire","title","icon","position","cancelButtonText","showCancelButton","confirmButtonText","showConfirmButton","then","result","isConfirmed","tanggal","getItem","putData2","kode_toko","kode_baki","res","ToastNotification","dispatch","hideModal","getData2","hasil","filter","kode_barcode","nama_barang","kode_customer","nama_customer","nama_atribut","no_hp","alamat_customer","berat_atribut","harga_atribut","ongkos","harga_total","findIndex","x","push","catch","error","test","response","message","showModal","componentDidMount","getData","length","data_post","formatDate","moment","format","setItem","err","undefined","expandRow","renderer","toFixed","showExpandColumn","expandByColumnOnly","to","BatalTitipan_HeadBatalTitipan","keyField","exportCsv","empty","textEmpty","size","content","ReanderSelect","options","list","map"],"mappings":"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","file":"static/js/114.106dbeae.chunk.js","sourcesContent":["import { React, connect, reduxForm, InputDate, Field, getTglSystem } from \"../../../components/helpers/library\";\r\nimport Loading from 'react-fullscreen-loading';\r\n\r\nclass HeadBatalTitipan extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      date: new Date(),\r\n    };\r\n    this.setStartDate = this.setStartDate.bind(this);\r\n    this.setLastDate = this.setLastDate.bind(this);\r\n  }\r\n\r\n  handleSubmit(data) {}\r\n  setStartDate(date) {\r\n    this.setState({\r\n      tgl_awal: new Date(date),\r\n    });\r\n  }\r\n  setLastDate(date) {\r\n    this.setState({\r\n      tgl_akhir: new Date(date),\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form\r\n          onSubmit={this.props.handleSubmit}\r\n          onKeyPress={(e) => {\r\n            e.key === \"Enter\" && e.preventDefault();\r\n          }}\r\n          autoComplete=\"off\"\r\n        >\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-4\">\r\n              <Field\r\n                name=\"tgl_awal\"\r\n                component={InputDate}\r\n                label=\"Tanggal Dari\"\r\n                type=\"text\"\r\n                selected={this.state.tgl_awal}\r\n                onChange={(date) => this.setStartDate(date)}\r\n                placeholder=\"Masukan Tanggal Dari\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col-lg-4\">\r\n              <Field\r\n                name=\"tgl_akhir\"\r\n                component={InputDate}\r\n                type=\"text\"\r\n                selected={this.state.tgl_akhir}\r\n                onChange={(date) => this.setLastDate(date)}\r\n                label=\"Tanggal Akhir\"\r\n                placeholder=\"Masukan Tanggal Akhir\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col-lg-4\">\r\n              <div className=\"text-right\">\r\n                <label>&nbsp;</label>\r\n                <button\r\n                  type=\"submit\"\r\n                  value=\"PDF\"\r\n                  name=\"type_btn\"\r\n                  className=\"btn btn-primary btn-block\"\r\n                >\r\n                  {this.props.isLoading ? (\r\n                    <>\r\n                      <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                      Mencari\r\n                    </>\r\n                  ) : (\r\n                    \"Cari Titipan\"\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n        {this.props.isLoading ? (\r\n        <Loading \r\n        loading\r\n        background=\"rgba(0, 0, 0, 0.35)\"\r\n         loaderColor=\"rgba(94, 147, 117, 1)\" />\r\n      ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nHeadBatalTitipan = reduxForm({\r\n  form: \"HeadBatalTitipan\",\r\n  enableReinitialize: true,\r\n})(HeadBatalTitipan);\r\n\r\nexport default connect((state) => {\r\n  return {\r\n    initialValues: {\r\n      tgl_awal: getTglSystem(),\r\n      tgl_akhir: getTglSystem(),\r\n    },\r\n  };\r\n})(HeadBatalTitipan);\r\n","import {\r\n  React,\r\n  connect,\r\n  Link,\r\n  reduxForm,\r\n  Panel,\r\n  PanelHeader,\r\n  Tabel,\r\n  // getToday,\r\n  Swal,\r\n  moment,\r\n  formatDate,\r\n  setItem,\r\n  getItem,\r\n  ToastNotification,\r\n  ModalGlobal,\r\n  showModal,\r\n  ReanderSelect,\r\n  Field,\r\n  hideModal,\r\n  PanelBody,\r\n} from \"../../../components/helpers/library\";\r\nimport { getData, getData2, putData2 } from \"../../../config/axios\";\r\nimport HeadBatalTitipan from \"./HeadBatalTitipan\";\r\nimport Loading from \"react-fullscreen-loading\";\r\n\r\nclass BatalTitipan extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      batal: false,\r\n      datatitipan: [],\r\n      databaki: [],\r\n      columns: [\r\n        {\r\n          dataField: \"no_titip_group\",\r\n          text: \"No Titip\",\r\n          footerAttrs: {\r\n            colSpan: \"4\",\r\n          },\r\n          footer: \"Total\",\r\n        },\r\n        {\r\n          dataField: \"kode_barcode\",\r\n          text: \"Kode Barcode\",\r\n        },\r\n\r\n        {\r\n          dataField: \"nama_barang\",\r\n          text: \"Nama Barang\",\r\n        },\r\n        {\r\n          dataField: \"nama_customer\",\r\n          text: \"Nama Customer\",\r\n        },\r\n\r\n        // {\r\n        //   dataField: \"nama_atribut\",\r\n        //   text: \"Nama Atribut\",\r\n        // },\r\n        // {\r\n        //   dataField: \"berat\",\r\n        //   text: \"Berat\",\r\n        //   formatter: (cell) => {\r\n        //     return <span>{cell.toFixed(3)}</span>;\r\n        //   },\r\n        //   footer: columnData => columnData.reduce((acc, item) => acc + item, 0).toFixed(3)\r\n        // },\r\n        // {\r\n        //   dataField: \"berat_atribut\",\r\n        //   text: \"Berat Atribut\",\r\n        //   formatter: (cell) => {\r\n        //     return <span>{cell.toFixed(3)}</span>;\r\n        //   },\r\n        //   footer: columnData => columnData.reduce((acc, item) => acc + item, 0).toFixed(3)\r\n        // },\r\n\r\n        // {\r\n        //   dataField: \"harga_atribut\",\r\n        //   text: \"Harga Atribut\",\r\n        //   formatter: (cell) => {\r\n        //     return <span>{parseInt(cell).toLocaleString(\"kr-KO\")}</span>;\r\n        //   },\r\n        //   footer: columnData => parseInt(columnData.reduce((acc, item) => acc + item, 0)).toLocaleString(\"kr-KO\")\r\n\r\n        // },\r\n        // {\r\n        //   dataField: \"harga_jual\",\r\n        //   text: \"Harga Jual\",\r\n        //   formatter: (cell) => {\r\n        //     return <span>{parseInt(cell).toLocaleString(\"kr-KO\")}</span>;\r\n        //   },\r\n        //   footer: columnData => parseInt(columnData.reduce((acc, item) => acc + item, 0)).toLocaleString(\"kr-KO\")\r\n\r\n        // },\r\n        {\r\n          dataField: \"total_dp\",\r\n          text: \"Total Dp\",\r\n          formatter: (rowcontent, row, index) => {\r\n            return (\r\n              <span>{parseInt(row.total_dp).toLocaleString(\"kr-KO\")}</span>\r\n            );\r\n          },\r\n\r\n          footer: (columnData) =>\r\n            parseInt(\r\n              columnData.reduce((acc, item) => acc + item, 0)\r\n            ).toLocaleString(\"kr-KO\"),\r\n        },\r\n\r\n        {\r\n          dataField: \"harga_total\",\r\n          text: \"Total Harga\",\r\n          formatter: (cell) => {\r\n            return <span> {parseInt(cell).toLocaleString(\"kr-KO\")}</span>;\r\n          },\r\n          footer: (columnData) =>\r\n            parseInt(\r\n              columnData.reduce((acc, item) => acc + item, 0)\r\n            ).toLocaleString(\"kr-KO\"),\r\n        },\r\n\r\n        {\r\n          dataField: \"action\",\r\n          text: \"Action\",\r\n          csvExport: false,\r\n          headerClasses: \"text-center\",\r\n          formatter: (rowcontent, row, index) => {\r\n            return (\r\n              <div className=\"row text-center\">\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    type=\"button\"\r\n                    disabled={row.status_titipan !== \"FINIS\" ? false : true}\r\n                    data-tooltip={\r\n                      row.status_titipan !== \"FINIS\"\r\n                        ? \"Batal Titipan\"\r\n                        : \"Tidak Bisa Dibatal\"\r\n                    }\r\n                    onClick={() => this.showPilihBaki(row.no_titip_group)}\r\n                    className=\"btn btn-danger mr-3\"\r\n                  >\r\n                    <i className=\"fa fa-window-close\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          },\r\n          footer: \"\",\r\n        },\r\n      ],\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  batalTitipan() {\r\n   \r\n    Swal.fire({\r\n      title: \"Anda Yakin !!\",\r\n      text: \"Ingin Membatalkan Titipan Ini ?\",\r\n      icon: \"warning\",\r\n      position: \"top-center\",\r\n      cancelButtonText: \"Tidak\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"OK\",\r\n      showConfirmButton: true,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        this.setState({\r\n          batal: true,\r\n        });\r\n        let tanggal = getItem(\"tgl_laporan\");\r\n        putData2(\"titip/cancel\", {\r\n          no_titip_group: this.state.no_titip_group,\r\n          kode_toko: this.state.kode_baki,\r\n        })\r\n          .then((res) => {\r\n            this.setState({\r\n              batal: false,\r\n            });\r\n            ToastNotification(\"success\", \"Titipan Berhasil Di Batal\");\r\n            this.props.dispatch(hideModal());\r\n            getData2(\r\n              \"titip/date/\" + tanggal.tgl_awal + \"/\" + tanggal.tgl_akhir\r\n            ).then((res) => {\r\n              // console.log(res.data);\r\n              let hasil = [];\r\n              res.data.filter((item, index) => {\r\n                // let status = res.data.findIndex(x => x.id === item.id) === index;\r\n                let row = {\r\n                  no_titip_group: item.no_titip_group,\r\n                  kode_barcode: item.kode_barcode,\r\n                  nama_barang: item.nama_barang,\r\n                  kode_customer: item.kode_customer,\r\n                  nama_customer: item.nama_customer,\r\n                  nama_atribut: item.nama_atribut,\r\n                  no_hp: item.no_hp,\r\n                  alamat_customer: item.alamat_customer,\r\n                  berat_atribut: item.berat_atribut,\r\n                  harga_atribut: item.harga_atribut,\r\n                  ongkos: item.ongkos,\r\n                  harga_total: item.harga_total,\r\n                  // status : res.data.findIndex(x => x.no_titip_group === item.no_titip_group) === index,\r\n                  total_dp:\r\n                    res.data.findIndex(\r\n                      (x) => x.no_titip_group === item.no_titip_group\r\n                    ) === index\r\n                      ? item.total_dp\r\n                      : 0,\r\n                };\r\n                hasil.push(row);\r\n                return row;\r\n              });\r\n              this.setState({\r\n                datatitipan: hasil,\r\n              });\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            ToastNotification(\r\n              \"info\",\r\n              /conflict/i.test(error.response.data.message || \"Error\")\r\n                ? \"Terjadi Kesalahan Saat Mengirim Data\"\r\n                : error.response.data.message\r\n            );\r\n          });\r\n      } else {\r\n        // console.log(\"test\");\r\n        this.setState({\r\n          batal: false,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  showPilihBaki(no_titip_group) {\r\n    this.setState({\r\n      no_titip_group: no_titip_group,\r\n    });\r\n    this.props.dispatch(showModal());\r\n  }\r\n\r\n  componentDidMount() {\r\n    getData(\"baki/ready\").then((res) => {\r\n      this.setState({\r\n        databaki: res.data,\r\n      });\r\n    });\r\n  }\r\n  handleSubmit(data) {\r\n    // console.log(data);\r\n    this.setState({\r\n      isLoading: true,\r\n    });\r\n\r\n    getData2(\"titip/date/\" + data.tgl_awal + \"/\" + data.tgl_akhir)\r\n      .then((res) => {\r\n        // console.log(res.data);\r\n        if (res.data.length === 0) {\r\n          ToastNotification(\"info\", \"Data Yang Anda Cari Tidak Ada\");\r\n          this.setState({\r\n            isLoading: false,\r\n          });\r\n        } else {\r\n          ToastNotification(\"success\", \"Data Titipan Tersedia\");\r\n          let data_post = {\r\n            tgl_awal: formatDate(\r\n              moment(new Date(data.tgl_awal)).format(\"YYYY-MM-DD\")\r\n            ),\r\n            tgl_akhir: formatDate(\r\n              moment(new Date(data.tgl_akhir)).format(\"YYYY-MM-DD\")\r\n            ),\r\n          };\r\n          let hasil = [];\r\n          res.data.filter((item, index) => {\r\n            // let status = res.data.findIndex(x => x.id === item.id) === index;\r\n            let row = {\r\n              no_titip_group: item.no_titip_group,\r\n              kode_barcode: item.kode_barcode,\r\n              nama_barang: item.nama_barang,\r\n              kode_customer: item.kode_customer,\r\n              nama_customer: item.nama_customer,\r\n              nama_atribut: item.nama_atribut,\r\n              no_hp: item.no_hp,\r\n              alamat_customer: item.alamat_customer,\r\n              berat_atribut: item.berat_atribut,\r\n              harga_atribut: item.harga_atribut,\r\n              ongkos: item.ongkos,\r\n              harga_total: item.harga_total,\r\n              // status : res.data.findIndex(x => x.no_titip_group === item.no_titip_group) === index,\r\n              total_dp:\r\n                res.data.findIndex(\r\n                  (x) => x.no_titip_group === item.no_titip_group\r\n                ) === index\r\n                  ? item.total_dp\r\n                  : 0,\r\n            };\r\n            hasil.push(row);\r\n            return row;\r\n          });\r\n          // console.log(hasil);\r\n          this.setState({\r\n            isLoading: false,\r\n            datatitipan: hasil,\r\n          });\r\n          setItem(\"tgl_laporan\", data_post);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        ToastNotification(\"info\", err.response=== undefined ? \"Terjadi Kesalahan Saat Request Data\" : err.response.data.message);\r\n        this.setState({\r\n          isLoading: false,\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const expandRow = {\r\n      renderer: (row) => (\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              {row.kode_customer === \"NONMEMBER\"\r\n                ? \"\"\r\n                : \"kode Customer :\" +\r\n                  row.kode_customer +\r\n                  (\r\n                    <>\r\n                      {\" \"}\r\n                      <br />{\" \"}\r\n                    </>\r\n                  )}\r\n              No Hp : {row.no_hp} <br />\r\n              Alamat Customer : {row.alamat_customer} <br />\r\n              Nama Atribut : {row.nama_atribut} <br />\r\n              Betat Atribut : {row.berat_atribut.toFixed(3)} <br />\r\n              Harga Atribut : {row.harga_atribut.toLocaleString(\"kr-KO\")} <br />\r\n              Ongkos : {row.ongkos.toLocaleString(\"kr-KO\")} <br />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ),\r\n      showExpandColumn: true,\r\n      expandByColumnOnly: true,\r\n    };\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Penjualan</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Lihat Titipan</li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Lihat Titipan </h1>\r\n        <Panel>\r\n          <PanelHeader>Lihat Titipan</PanelHeader>\r\n          <br />\r\n          {/* Blank Page */}\r\n          <PanelBody>\r\n            <HeadBatalTitipan\r\n              isLoading={this.state.isLoading}\r\n              onSubmit={(data) => this.handleSubmit(data)}\r\n            />\r\n            <Tabel\r\n              keyField=\"kode_barcode\"\r\n              exportCsv={false}\r\n              data={this.state.datatitipan}\r\n              columns={this.state.columns}\r\n              empty={true}\r\n              textEmpty=\"Data Barang Kosong\"\r\n              expandRow={expandRow}\r\n            />\r\n          </PanelBody>\r\n\r\n          <br />\r\n          {/* End Tambah Blank Page  */}\r\n        </Panel>\r\n        <ModalGlobal\r\n          title={\"Pilih Baki\"}\r\n          size=\"l\"\r\n          content={\r\n            <>\r\n              <div className=\"col-lg-12\">\r\n                <Field\r\n                  name=\"kode_baki\"\r\n                  component={ReanderSelect}\r\n                  options={this.state.databaki\r\n                    .filter((list) => list.kode_baki !== undefined)\r\n                    .map((list) => {\r\n                      let data = {\r\n                        value: list.kode_baki,\r\n                        name: list.kode_baki,\r\n                      };\r\n                      return data;\r\n                    })}\r\n                  onChange={(e) =>\r\n                    this.setState({\r\n                      kode_baki: e,\r\n                    })\r\n                  }\r\n                  label=\"Kode Baki\"\r\n                  placeholder=\"Silahkan Pilih Kode Lokasi\"\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-12\">\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  disabled={this.state.batal}\r\n                  onClick={() => this.batalTitipan()}\r\n                  type=\"button\"\r\n                >\r\n                  {this.state.batal ? (\r\n                    <>\r\n                      <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Batal\r\n                    </>\r\n                  ) : (\r\n                    \"Batal\"\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </>\r\n          }\r\n        />\r\n        {this.state.batal ? (\r\n          <Loading\r\n            loading\r\n            background=\"rgba(0, 0, 0, 0.35)\"\r\n            loaderColor=\"rgba(94, 147, 117, 1)\"\r\n          />\r\n        ) : null}\r\n        {this.state.isLoading ? (\r\n          <Loading\r\n            loading\r\n            background=\"rgba(0, 0, 0, 0.35)\"\r\n            loaderColor=\"rgba(94, 147, 117, 1)\"\r\n          />\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBatalTitipan = reduxForm({\r\n  form: \"BatalTitipan\",\r\n  enableReinitialize: true,\r\n})(BatalTitipan);\r\nexport default connect()(BatalTitipan);\r\n"],"sourceRoot":""}