(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{1251:function(a,t,e){"use strict";e.r(t);var s=e(0),i=e.n(s),n=e(31),r=e(72),o=e(13),d=e(41),l=e(24),c=e.n(l),h=e(30),m=e(11),p=e(53),b=e(7),k=e(94),u=e(228),E=e(329),g=e(330),T=e(23);var j=(a,t)=>{const e={};return a.kode_transaksi||(e.kode_transaksi="Kode Transaksi Tidak Boleh Kosong"),e},O=e(54),K=e.n(O);class f extends s.Component{constructor(...a){super(...a),this.state={aktif:!1}}componentDidMount(){setTimeout(()=>{document.getElementById("kode_transaksi").focus()},100)}render(){return i.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off",onKeyPress:a=>{"Enter"===a.key&&a.preventDefault()}},this.props.isEdit?i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{name:"id",component:T.b,type:"hidden",readOnly:this.props.isEdit})):null,i.a.createElement("input",{type:"hidden",name:"kode_transaksi_lama"}),i.a.createElement(E.a,{tabIndex:"1",id:"kode_transaksi",name:"kode_transaksi",component:T.e,type:"text",label:"Kode Transaksi",placeholder:"Masukan Kode Transaksi",onBlur:()=>this.setState({aktif:!0})}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12 text-right"},i.a.createElement("button",{className:"btn btn-white",onClick:()=>this.props.dispatch(Object(o.Cb)()),type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",i.a.createElement("button",{tabIndex:"2",className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.submitting,type:"submit"},this.props.isLoading?i.a.createElement(i.a.Fragment,null,i.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?i.a.createElement(K.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}f=Object(g.a)({form:"ModalKodeTrransaksi",enableReinitialize:!0,validate:j})(f);var S=Object(d.b)(a=>{if(null!==a.datamaster.ShowModalKodeTransaksi)return{initialValues:{id:a.datamaster.ShowModalKodeTransaksi.id,kode_transaksi:a.datamaster.ShowModalKodeTransaksi.kode_transaksi,kode_transaksi_lama:a.datamaster.ShowModalKodeTransaksi.kode_transaksi}}},null)(f);const _=(a,t)=>{c.a.fire({html:"Apakah Anda Yakin Ingin Menghapus <h1><b>Kode Transaksi "+a.kode_transaksi+"</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(e=>{e.isConfirmed&&Object(m.b)("paratransaksi/delete/by-kode-transaksi/"+a._id).then(()=>{Object(h.d)("Data Berhasil Di Hapus").then(()=>t(Object(o.Bb)()))}).catch(a=>{Object(h.e)("error",a.response.data)})})};t.default=Object(d.b)(a=>({DataTransaksi:a.datamaster.getParamterTransaksi,hideModal:a.datamaster.modalDialog}),null)(class extends i.a.Component{constructor(a){super(a),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,columns:[{dataField:"kode_transaksi",text:"Kode Transaksi ",sort:!0},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(a,t)=>{let e={id:t._id,kode_transaksi:t.kode_transaksi};return i.a.createElement("div",{className:"row text-center"},i.a.createElement("div",{className:"col-12"},i.a.createElement("button",{onClick:()=>this.FormEditKodeTransaksi(e),className:"btn btn-primary mr-3"},i.a.createElement("i",{className:"fa fa-edit"})),i.a.createElement("button",{onClick:()=>_(t,this.props.dispatch),className:"btn btn-danger"},i.a.createElement("i",{className:"fa fa-trash"}))))}}],dataKodeTransaksi:[{kode_transaksi:"Uang Makan"}]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){this.props.dispatch(Object(o.Bb)())}handleSubmit(a){this.setState({isLoading:!0});let t={kode_transaksi:a.kode_transaksi},e={id:a.id,kode_transaksi:a.kode_transaksi};this.state.isEdit?Object(m.p)("paratransaksi/edit/by-kode-transaksi/"+a.id,t).then(()=>{this.setState({isLoading:!1}),this.props.dispatch(Object(o.Cb)())}).then(()=>Object(h.e)("success","Data Berhasil Diedit")).then(()=>{this.props.dispatch(Object(o.Bb)())}).then(()=>{this.setState({isLoading:!1})}).then(()=>{this.props.dispatch(Object(p.d)("ModalKodeTrransaksi"))}).catch(a=>{Object(h.e)("info",void 0===a.response?"Terjadi Kesalahan Saat Megirim Data ":a.response.data),this.setState({isLoading:!1})}):Object(m.j)("paratransaksi/add",e).then(()=>{this.setState({isLoading:!1}),this.props.dispatch(Object(o.Cb)())}).then(()=>{Object(h.e)("success","Data Berhasil Disimpan")}).then(()=>{this.props.dispatch(Object(o.Bb)())}).then(()=>{this.props.dispatch(Object(p.d)("ModalKodeTrransaksi"))}).then(()=>{this.setState({isLoading:!1})}).catch(a=>Object(b.a)(a,"paratransaksi/reactive/by-kode-transaksi/",e,this.props.dispatch,Object(o.Bb)(),Object(o.Cb)(),"ModalKodeTrransaksi").then(()=>{this.setState({isLoading:!1})}))}FormEditKodeTransaksi(a){this.props.dispatch(Object(o.Db)()),this.props.dispatch(Object(o.ab)(a)),this.setState({isEdit:!0})}showModalKodeTranaksi(){this.props.dispatch(Object(o.Db)()),this.props.dispatch(Object(o.ab)(!1)),this.setState({isEdit:!1,isLoading:!1})}render(){return i.a.createElement("div",null,i.a.createElement("ol",{className:"breadcrumb float-xl-right"},i.a.createElement("li",{className:"breadcrumb-item"},i.a.createElement(n.b,{to:"#"},"Data Master")),i.a.createElement("li",{className:"breadcrumb-item active"},"Master Kode Transaksi")),i.a.createElement("h1",{className:"page-header"},"Master Kode Transaksi "),i.a.createElement(r.a,null,i.a.createElement(r.c,null,"Master Kode Transaksi"),i.a.createElement("br",null),i.a.createElement("div",{className:"container"},i.a.createElement(k.a,{keyField:"kode_transaksi",tambahData:!0,handleClick:()=>this.showModalKodeTranaksi(),exportCsv:!0,data:this.props.DataTransaksi,columns:this.state.columns,empty:this.props.DataTransaksi,textEmpty:"Data Jenis Kosong"})),i.a.createElement("br",null),i.a.createElement(u.a,{title:this.state.isEdit?"Edit Data Kode Transaksi":"Tambah Data Kode Transaksi",size:"P",content:i.a.createElement(S,{isLoading:this.state.isLoading,onSubmit:a=>this.handleSubmit(a)})})))}})}}]);
//# sourceMappingURL=57.292e3956.chunk.js.map