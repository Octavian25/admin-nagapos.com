(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{1241:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(31),r=a(72),c=a(41),s=a(330),i=a(7),d=(a(345),a(30)),m=a(11),E=a(329),p=a(23),b=a(13),u=a(109),g=(a(227),function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],new u.default("l","mm",[297,210])),n=[],l=30,o=0,r=0;a.setFontSize(15),a.text("LAPORAN BARANG DETAIL",14,15),a.setFontSize(20),a.text(Object(i.j)().nama_toko,200,15),a.setFontSize(8);var c=Object(i.j)().alamat_toko.length;c>20&&a.text(Object(i.j)().alamat_toko.slice(0,48),200,20),c>50&&a.text(Object(i.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN BARANG DETAIL"}),e=[[{content:"NO"},{content:"KODE BARCODE"},{content:"KODE GROUP"},{content:"KODE JENIS"},{content:"KODE INTERN"},{content:"KODE GUDANG"},{content:"NAMA BARANG"},{content:"BERAT",styles:{halign:"right"}},{content:"NAMA ATRIBUTE"},{content:"BERAT ATRIBUTE",styles:{halign:"right"}}]],t.forEach(function(e,t){var a=[{content:"".concat(++t),styles:{cellWidth:10}},e.kode_barcode,e.kode_group,e.kode_dept,e.kode_intern,e.kode_gudang,e.nama_barang,{content:Object(i.f)(e.berat,3),styles:{halign:"right"}},e.nama_atribut,{content:Object(i.f)(e.berat_atribut,3),styles:{halign:"right"}}];o+=e.berat,e.stock_on_hand,r+=e.berat_atribut,n.push(a)});var s=[{content:"Total",colSpan:7,styles:{halign:"center",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(Object(i.f)(o,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"",styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(Object(i.f)(r,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}}];n.push(s);var d=[{colSpan:6,content:"Printed By ".concat(JSON.parse(Object(i.l)("userdata")).user_id," / ").concat(Object(i.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];n.push(d),a.autoTable({head:e,body:n,startY:l,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),l=a.autoTableEndPosY()+3,n=[];var m=a.internal.getNumberOfPages(),E=a.internal.pageSize.width,p=a.internal.pageSize.height;a.setFontSize(10);for(var b=1;b<m+1;b++){var g=E/2,h=p-10;a.setPage(b),a.text("".concat(b," of ").concat(m),g,h,{align:"center"})}a.save("LAPORAN BARANG DETAIL.pdf")}),h=a(133),k=a.n(h);var _=class extends n.Component{constructor(e){super(e),this.state={}}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Barang Detail",sheet:"Laporan Barang Detail",buttonText:"Export Exel"}),l.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"9",style:{textAlign:"center"}}," LAPORAN BARANG DETAIL ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"9"}," TOKO :  ",Object(i.j)().nama_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"9"}," ALAMAT :  ",Object(i.j)().alamat_toko," ")),l.a.createElement("tr",null),l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NO"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE BARCODE"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE GROUP"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE JENIS"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE INTERN"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE GUDANG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA BARANG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA ATRIBUT"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT ATRIBUT"))),l.a.createElement("tbody",null,this.props.data.map((e,t)=>l.a.createElement("tr",{key:t},l.a.createElement("td",{style:{textAlign:"center"}}," ",t+1),l.a.createElement("td",null,"\xa0",e.kode_barcode),l.a.createElement("td",null," ",e.kode_group),l.a.createElement("td",null," ",e.kode_dept),l.a.createElement("td",null," ",e.kode_intern),l.a.createElement("td",null," ",e.kode_gudang),l.a.createElement("td",null," ",e.nama_barang),l.a.createElement("td",null," ",Object(i.f)(e.berat,3)),l.a.createElement("td",null," ",e.nama_atribut),l.a.createElement("td",null," ",Object(i.f)(e.berat_atribut,3))))),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"center"},colSpan:"7"},"  "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(i.f)(this.props.data.map(e=>e.berat).reduce((e,t)=>e+t,0),3),"   "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"  "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(i.f)(this.props.data.map(e=>e.berat_atribut).reduce((e,t)=>e+t,0),3),"  ")))))}},A=a(94),L=a(54),O=a.n(L);class f extends n.Component{constructor(e){super(e),this.state={loading:!1,list_baki:[{value:"SEMUA",name:"SEMUA"}]}}componentDidMount(){this.props.dispatch(Object(b.v)()),this.props.dispatch(Object(b.pb)()),this.props.dispatch(Object(b.lb)()),this.props.dispatch(Object(b.nb)()),setTimeout(()=>{this.props.change("kode_group","ALL"),this.props.change("kode_jenis","ALL"),this.props.change("kode_gudang","ALL"),this.props.change("kode_baki","ALL")},100)}exportPdf(){g(this.props.data,this.props.kode_baki)}render(){let e=[{value:"ALL",name:"SEMUA"}];this.props.databaki.forEach(t=>{let a={value:t.kode_baki,name:t.kode_baki+" - "+t.nama_baki};e.push(a)});let t=[{value:"ALL",name:"SEMUA"}];this.props.dataGroup.forEach(e=>{let a={value:e.kode_group,name:e.kode_group+" - "+e.nama_group};t.push(a)});let a=[{value:"ALL",name:"SEMUA"}];this.props.dataJenis.forEach(e=>{let t={value:e.kode_dept,name:e.kode_dept+" - "+e.nama_dept};a.push(t)});let n=[{value:"ALL",name:"SEMUA"}];return this.props.dataGudang.forEach(e=>{let t={value:e.kode_gudang,name:e.kode_gudang+" - "+e.nama_gudang};n.push(t)}),l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{onSubmit:e=>this.props.handleSubmit(e),autoComplete:"off",onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},!1===this.state.loading?l.a.createElement(E.a,{label:"Group",name:"kode_group",options:t,placeholder:"Silahkan Pilih Kode Group",component:p.f}):l.a.createElement(p.g,{label:"Kode Group"})),l.a.createElement("div",{className:"col-3"},!1===this.state.loading?l.a.createElement(E.a,{label:"Jenis",name:"kode_jenis",options:a,placeholder:"Silahkan Pilih Kode Jenis",component:p.f}):l.a.createElement(p.g,{label:"Kode Jenis"})),l.a.createElement("div",{className:"col-3"},!1===this.state.loading?l.a.createElement(E.a,{label:"Gudang",name:"kode_gudang",options:n,placeholder:"Silahkan Pilih Kode Gudang",onChange:e=>{"ALL"!==e?this.props.dispatch(Object(b.mb)(e)):this.props.dispatch(Object(b.lb)())},component:p.f}):l.a.createElement(p.g,{label:"Kode Gudang"})),l.a.createElement("div",{className:"col-3"},!1===this.state.loading?l.a.createElement(E.a,{label:"Kode Baki",name:"kode_baki",options:e,placeholder:"Silahkan Pilih Kode Baki",component:p.f}):l.a.createElement(p.g,{label:"Kode Baki"})),l.a.createElement("div",{className:"col-lg-9"}),l.a.createElement("div",{className:"col-3"},l.a.createElement("label",null," \xa0 "),l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.submitting,type:"submit"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Memfilter"):"Filter Laporan")),l.a.createElement("div",{className:"col-12"},l.a.createElement(A.a,{keyField:"kode_barcode",data:this.props.data,columns:this.props.columns,empty:!0,textEmpty:"Data Laporan Barang Detail Kosong"})),this.props.export?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("button",{type:"button",onClick:()=>this.exportPdf(),className:"btn btn-warning btn-block"}," ","Export PDF"," ")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(_,{data:this.props.data,kode_baki:this.props.kode_baki}))):null),this.props.isLoading?l.a.createElement(O.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null))}}f=Object(s.a)({form:"HeadFilterLaporan",enableReinitialize:!0})(f);var N=Object(c.b)(e=>({databaki:e.datamaster.getDataBaki,dataJenis:e.datamaster.getDataJenis,dataGroup:e.datamaster.GetDataGroup,dataGudang:e.datamaster.getDataGudang}),null)(f);class S extends l.a.Component{constructor(e){super(e),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,export:!1,kode_baki:[],LaporanBarangDetail:!1,columns:[{dataField:"kode_barcode",text:"Kode Barcode",footerAttrs:{colSpan:"6"},footer:(e,t,a,n)=>l.a.createElement("div",null,"Total Barang : ",this.state.LaporanBarangDetail.length||0," ")},{dataField:"kode_group",text:"Kode Group"},{dataField:"kode_dept",text:"Kode Jenis"},{dataField:"kode_gudang",text:"Kode Gudang"},{dataField:"kode_toko",text:"Kode Baki"},{dataField:"nama_barang",text:"Nama Barang"},{dataField:"berat",text:"Berat",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",Object(i.f)(e,3)," "),footer:e=>l.a.createElement("div",{className:"text-right"}," ",Object(i.f)(e.reduce((e,t)=>e+t,0),3)," ")}]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){let e=JSON.parse(Object(i.l)("userdata"));this.setState({username:e.user_id})}handleSubmit(e){this.setState({isLoading:!0,kode_toko:e.kode_baki}),Object(m.f)("reportbarang/barangdetail?kode_gudang=".concat(e.kode_gudang||"ALL","&kode_toko=").concat(e.kode_baki||"ALL","&kode_jenis=").concat(e.kode_jenis||"ALL","&kode_group=").concat(e.kode_group||"ALL")).then(t=>{0===t.data.length?(this.setState({export:!1,LaporanBarangDetail:[]}),Object(d.e)("info","Laporan Barang Detail Tidak Tersedia")):(Object(d.e)("success","Laporan Barang Detail Tersedia"),this.setState({export:!0,kode_baki:e.kode_baki,LaporanBarangDetail:t.data}))}).then(()=>{this.setState({isLoading:!1})}).catch(e=>this.errorHandling(e))}errorHandling(e){Object(d.a)(e),this.setState({isLoading:!1})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(o.b,{to:"#"},"Laporan Barang")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Barang Detail")),l.a.createElement("h1",{className:"page-header"},"Laporan Barang Detail"),l.a.createElement(r.a,null,l.a.createElement(r.c,null,"Filter Laporan"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement(N,{kode_baki:this.state.kode_baki,export:this.state.export,columns:this.state.columns,data:this.state.LaporanBarangDetail,isLoading:this.state.isLoading,onSubmit:e=>this.handleSubmit(e)})))),l.a.createElement("br",null)))}}S=Object(s.a)({form:"FormDetailBarang",enableReinitialize:!0})(S);t.default=Object(c.b)(e=>({hideModal:e.datamaster.modalDialog}),null)(S)}}]);
//# sourceMappingURL=68.09a09504.chunk.js.map