(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{1211:function(t,e,a){"use strict";a.r(e);var l=a(0),n=a.n(l),r=a(27),o=a(131),s=a(48),c=a(330),i=a(7),d=(a(345),a(24)),m=a(13),b=a(329),h=a(333),g=a(15),E=a(132),p=a.n(E);var u=class extends l.Component{constructor(t){super(t),this.state={}}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(p.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Tambah Barang",sheet:"Laporan Tambah Barang",buttonText:"Export Exel"}),n.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"12",style:{textAlign:"center"}}," LAPORAN TAMBAH BARANG ")),n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"12"}," TOKO :  ",Object(i.j)(i.j).nama_toko," ")),n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"12"}," ALAMAT :  ",Object(i.j)().alamat_toko," ")),n.a.createElement("tr",null),n.a.createElement("tr",null,n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NO"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE BARCODE"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE GUDANG"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE TOKO"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE GROUP"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE JENIS"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA BARANG"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA ATRIBUT"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT ASLI"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT ATRIBUT"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"HARGA JUAL"))),n.a.createElement("tbody",null,this.props.data.map((t,e)=>n.a.createElement("tr",{key:e},n.a.createElement("td",{style:{textAlign:"center"}}," ",e+1),n.a.createElement("td",null,"\xa0",t.kode_barcode),n.a.createElement("td",null," ",t.kode_gudang),n.a.createElement("td",null," ",t.kode_toko),n.a.createElement("td",null," ",t.kode_group),n.a.createElement("td",null," ",t.kode_dept),n.a.createElement("td",null," ",t.nama_barang),n.a.createElement("td",null," ",t.nama_atribut),n.a.createElement("td",{style:{textAlign:"right"}}," ",Object(i.f)(t.berat,3)),n.a.createElement("td",{style:{textAlign:"right"}}," ",Object(i.f)(t.berat_asli,3)),n.a.createElement("td",{style:{textAlign:"right"}}," ",Object(i.f)(t.berat_atribut,3)),n.a.createElement("td",{style:{textAlign:"right"}}," ",t.harga_jual.toLocaleString("kr-KO"))))),n.a.createElement("tfoot",null,n.a.createElement("tr",null,n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"center"},colSpan:"8"},"  "),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(i.f)(this.props.data.map(t=>t.berat).reduce((t,e)=>t+e,0),3),"   "),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(i.f)(this.props.data.map(t=>t.berat_asli).reduce((t,e)=>t+e,0),3),"  "),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(i.f)(this.props.data.map(t=>t.berat_atribut).reduce((t,e)=>t+e,0),3),"  "),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",this.props.data.map(t=>t.harga_jual).reduce((t,e)=>t+e,0).toLocaleString("kr-KO"),"  ")))))}},_=a(92),k=a(107);a(227);var A=(t="")=>{const e=new k.default("l","mm",[297,210]);let a=[],l=[],n=30,r=0,o=0,s=0,c=0;e.setFontSize(15),e.text("LAPORAN TAMBAH BARANG",14,15),e.setFontSize(20),e.text(Object(i.j)().nama_toko,200,15),e.setFontSize(8);let d=Object(i.j)().alamat_toko.length;d>20&&e.text(Object(i.j)().alamat_toko.slice(0,48),200,20),d>50&&e.text(Object(i.j)().alamat_toko.slice(48,90),200,25),e.setFontSize(10),e.setProperties({title:"LAPORAN TAMBAH BARANG"}),e.text("PERIODE : ".concat(0===Object(i.l)("tgl_laporan").length?null:JSON.parse(Object(i.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(i.l)("tgl_laporan")).tgl_akhir),14,25),l=[[{content:"NO"},{content:"KODE BARCODE"},{content:"KODE GUDANG"},{content:"KODE TOKO"},{content:"KODE GROUP"},{content:"KODE JENIS"},{content:"NAMA BARANG"},{content:"NAMA ATRIBUT"},{content:"BERAT",styles:{halign:"right"}},{content:"BERAT ASLI",styles:{halign:"right"}},{content:"BERAT ATRIBUT",styles:{halign:"right"}},{content:"HARGA JUAL",styles:{halign:"right"}}]],t.forEach((t,e)=>{let l=[{content:"".concat(++e),styles:{cellWidth:10}},t.kode_barcode,t.kode_gudang,t.kode_toko,t.kode_group,t.kode_dept,t.nama_barang,t.nama_atribut,{content:Object(i.f)(t.berat,3),styles:{halign:"right"}},{content:Object(i.f)(t.berat_asli,3),styles:{halign:"right"}},{content:Object(i.f)(t.berat_atribut,3),styles:{halign:"right"}},{content:t.harga_jual.toLocaleString("kr-KO"),styles:{halign:"right"}}];r+=t.berat,s+=t.berat_asli,o+=t.berat_atribut,c+=t.harga_jual,a.push(l)});let m=[{content:"Total Berat",colSpan:7,styles:{halign:"center",fillColor:"#E8E5E5",textColor:"#000"}},{content:" ",styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(r.toFixed(3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(s.toFixed(3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(o.toFixed(3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(c.toLocaleString("kr-KO")),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}}];a.push(m);let b=[{colSpan:6,content:"Printed By ".concat(JSON.parse(Object(i.l)("userdata")).user_id," / ").concat(Object(i.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];a.push(b),e.autoTable({head:l,body:a,startY:n,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),n=e.autoTableEndPosY()+3,a=[];const h=e.internal.getNumberOfPages(),g=e.internal.pageSize.width,E=e.internal.pageSize.height;e.setFontSize(10);for(let i=1;i<h+1;i++){let t=g/2,a=E-10;e.setPage(i),e.text("".concat(i," of ").concat(h),t,a,{align:"center"})}e.save("LAPORAN BARANG DETAIL.pdf")},O=a(61),x=a.n(O),y=a(30),j=a(94),f=a.n(j);var S=(t="")=>{const e=new k.default("l","mm",[297,210]);let a=[],l=[],n=30,r=0,o=0,s=0;e.setFontSize(15),e.text("LAPORAN TAMBAH STOCK",14,15),e.setFontSize(20),e.text(Object(i.j)().nama_toko,200,15),e.setFontSize(8);let c=Object(i.j)().alamat_toko.length;c>20&&e.text(Object(i.j)().alamat_toko.slice(0,48),200,20),c>50&&e.text(Object(i.j)().alamat_toko.slice(48,90),200,25),e.setFontSize(10),e.setProperties({title:"LAPORAN TAMBAH STOCK"}),e.text("PERIODE : ".concat(0===Object(i.l)("tgl_laporan").length?null:JSON.parse(Object(i.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(i.l)("tgl_laporan")).tgl_akhir),14,25),l=[[{content:"NO"},{content:"KODE BAKI"},{content:"NAMA BAKI"},{content:"TAMBAH PTG",styles:{halign:"right"}},{content:"BERAT ASLI",styles:{halign:"right"}}]],t.forEach((t,e)=>{let l=[{content:"".concat(++e),styles:{cellWidth:10}},t.kode_toko,t.nama_toko,{content:t.stock_tambah,styles:{halign:"right"}},{content:Object(i.f)(t.berat_asli_tambah,3),styles:{halign:"right"}}];o+=t.stock_tambah,r+=t.berat_tambah,s=s+t.berat_asli_tambah||0,a.push(l)});let d=[{content:"Total",colSpan:3,styles:{halign:"center",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(o),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(i.f)(r,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(i.f)(s,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}}];a.push(d);let m=[{colSpan:6,content:"Printed By ".concat(JSON.parse(Object(i.l)("userdata")).user_id," / ").concat(Object(i.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];a.push(m),e.autoTable({head:l,body:a,startY:n,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),n=e.autoTableEndPosY()+3,a=[];const b=e.internal.getNumberOfPages(),h=e.internal.pageSize.width,g=e.internal.pageSize.height;e.setFontSize(10);for(let i=1;i<b+1;i++){let t=h/2,a=g-10;e.setPage(i),e.text("".concat(i," of ").concat(b),t,a,{align:"center"})}e.save("LAPORAN TAMBAH BARANG.pdf")};var N=class extends l.Component{constructor(t){super(t),this.state={}}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(p.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Tambah Stock",sheet:"Laporan Tambah Stock",buttonText:"Export Exel"}),n.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"6",style:{textAlign:"center"}}," LAPORAN TAMBAH BARANG GLOBAL PER BAKI")),n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"6"}," TOKO :  ",Object(i.j)(i.j).nama_toko," ")),n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"6"}," ALAMAT :  ",Object(i.j)().alamat_toko," ")),n.a.createElement("tr",null),n.a.createElement("tr",null,n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NO"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE BAKI"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA BAKI"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"TAMBAH PTG"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TAMBAH BERAT ASLI"))),n.a.createElement("tbody",null,this.props.data.map((t,e)=>n.a.createElement("tr",{key:e},n.a.createElement("td",{style:{textAlign:"center"}}," ",e+1),n.a.createElement("td",null,t.kode_toko),n.a.createElement("td",null,t.nama_toko),n.a.createElement("td",{style:{textAlign:"right"}}," ",t.stock_tambah),n.a.createElement("td",{style:{textAlign:"right"}}," ",Object(i.f)(t.berat_asli_tambah,3))))),n.a.createElement("tfoot",null,n.a.createElement("tr",null,n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"center"},colSpan:"3"},"  "),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(i.f)(this.props.data.map(t=>t.stock_tambah).reduce((t,e)=>t+e,0),3),"   "),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(i.f)(this.props.data.map(t=>t.berat_tambah).reduce((t,e)=>t+e,0),3),"  "),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(i.f)(this.props.data.map(t=>t.berat_asli_tambah).reduce((t,e)=>t+e,0),3),"  ")))))}};var B=class extends l.Component{constructor(t){super(t),this.state={}}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(p.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Tambah Stock",sheet:"Laporan Tambah Stock",buttonText:"Export Exel"}),n.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"6",style:{textAlign:"center"}}," LAPORAN TAMBAH BARANG GLOBAL PER JENIS")),n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"6"}," TOKO :  ",Object(i.j)(i.j).nama_toko," ")),n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"6"}," ALAMAT :  ",Object(i.j)().alamat_toko," ")),n.a.createElement("tr",null),n.a.createElement("tr",null,n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NO"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE JENIS"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA JENIS"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"TAMBAH PTG"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"TAMBAH BERAT"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TAMBAH BERAT ASLI"))),n.a.createElement("tbody",null,this.props.data.map((t,e)=>n.a.createElement("tr",{key:e},n.a.createElement("td",{style:{textAlign:"center"}}," ",e+1),n.a.createElement("td",null,t.kode_dept),n.a.createElement("td",null,t.nama_dept),n.a.createElement("td",{style:{textAlign:"right"}}," ",t.stock_tambah),n.a.createElement("td",{style:{textAlign:"right"}}," ",Object(i.f)(t.berat_tambah,3)),n.a.createElement("td",{style:{textAlign:"right"}}," ",Object(i.f)(t.berat_asli_tambah,3))))),n.a.createElement("tfoot",null,n.a.createElement("tr",null,n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"center"},colSpan:"3"},"  "),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(i.f)(this.props.data.map(t=>t.stock_tambah).reduce((t,e)=>t+e,0),3),"   "),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(i.f)(this.props.data.map(t=>t.berat_tambah).reduce((t,e)=>t+e,0),3),"  "),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(i.f)(this.props.data.map(t=>t.berat_asli_tambah).reduce((t,e)=>t+e,0),3),"  ")))))}};var C=(t="")=>{const e=new k.default("l","mm",[297,210]);let a=[],l=[],n=30,r=0,o=0,s=0;e.setFontSize(15),e.text("LAPORAN TAMBAH STOCK",14,15),e.setFontSize(20),e.text(Object(i.j)().nama_toko,200,15),e.setFontSize(8);let c=Object(i.j)().alamat_toko.length;c>20&&e.text(Object(i.j)().alamat_toko.slice(0,48),200,20),c>50&&e.text(Object(i.j)().alamat_toko.slice(48,90),200,25),e.setFontSize(10),e.setProperties({title:"LAPORAN TAMBAH STOCK"}),e.text("PERIODE : ".concat(0===Object(i.l)("tgl_laporan").length?null:JSON.parse(Object(i.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(i.l)("tgl_laporan")).tgl_akhir),14,25),l=[[{content:"NO"},{content:"KODE BAKI"},{content:"NAMA BAKI"},{content:"TAMBAH PTG",styles:{halign:"right"}},{content:"BERAT TAMBAH",styles:{halign:"right"}},{content:"BERAT ASLI",styles:{halign:"right"}}]],t.forEach((t,e)=>{let l=[{content:"".concat(++e),styles:{cellWidth:10}},t.kode_dept,t.nama_dept,{content:t.stock_tambah,styles:{halign:"right"}},{content:Object(i.f)(t.berat_tambah,3),styles:{halign:"right"}},{content:Object(i.f)(t.berat_asli_tambah,3),styles:{halign:"right"}}];o+=t.stock_tambah,r+=t.berat_tambah,s=s+t.berat_asli_tambah||0,a.push(l)});let d=[{content:"Total",colSpan:3,styles:{halign:"center",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(o),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(i.f)(r,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(i.f)(s,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}}];a.push(d);let m=[{colSpan:6,content:"Printed By ".concat(JSON.parse(Object(i.l)("userdata")).user_id," / ").concat(Object(i.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];a.push(m),e.autoTable({head:l,body:a,startY:n,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),n=e.autoTableEndPosY()+3,a=[];const b=e.internal.getNumberOfPages(),h=e.internal.pageSize.width,g=e.internal.pageSize.height;e.setFontSize(10);for(let i=1;i<b+1;i++){let t=h/2,a=g-10;e.setPage(i),e.text("".concat(i," of ").concat(b),t,a,{align:"center"})}var E=e.output("datauristring"),p=window.open();p.document.open(),p.document.write("<html><head><title>LAPORAN TAMBAH BARANG</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+E+"></embed></body></html>")};class T extends l.Component{constructor(t){super(t),this.state={loading:!1,data_per_baki:[],data_per_jenis:[],table_per_baki:!1,table_per_jenis:!1,isLoading:!1},this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}componentDidMount(){this.props.dispatch(Object(g.kb)()),this.props.dispatch(Object(g.ob)()),this.props.change("kode_toko","ALL"),this.props.change("kode_dept","ALL"),this.props.change("tgl_awal",Object(i.h)()),this.props.change("tgl_akhir",Object(i.h)())}setStartDate(t){this.setState({tgl_awal:new Date(t)})}setLastDate(t){if(new Date(t)>new Date)return Object(d.e)("info","Tanggal tidak boleh lebih dari hari ini"),!1;this.setState({tgl_akhir:new Date(t)})}exportPdf(){A(this.props.data),this.props.change("kode_toko","ALL"),this.props.change("kode_dept","ALL")}exportPdfGlobalBaki(){S(this.state.data_per_baki)}exportPdfGlobalJenis(){C(this.state.data_per_jenis)}GlobalPerBaki(){let t={tgl_awal:Object(i.e)(f()(new Date(this.props.tgl_awal||Object(i.h)())).format("YYYY-MM-DD")),tgl_akhir:Object(i.e)(f()(new Date(this.props.tgl_akhir||Object(i.h)())).format("YYYY-MM-DD"))};this.setState({isLoading:!0}),Object(m.d)("barang/tambah-barangs/global-per-baki?tanggal[gte]=".concat(t.tgl_awal,"&tanggal[lte]=").concat(t.tgl_akhir)).then(e=>{0===e.data.length?(this.setState({export:!1,LaporanBarangDetail:[],isLoading:!1}),Object(d.e)("info","Laporan Tambah Barang Tidak Tersedia")):(Object(d.e)("success","Laporan Tambah Barang Tersedia"),Object(i.m)("tgl_laporan",JSON.stringify(t)),this.setState({isLoading:!1,export:!0,data_per_baki:e.data,table_per_baki:!0,table_per_jenis:!1,table_per_normal:!1}))}).then(()=>{this.setState({isLoading:!1})}).catch(t=>this.errorHandling(t))}GlobalPerJenis(){let t={tgl_awal:Object(i.e)(f()(new Date(this.props.tgl_awal||Object(i.h)())).format("YYYY-MM-DD")),tgl_akhir:Object(i.e)(f()(new Date(this.props.tgl_akhir||Object(i.h)())).format("YYYY-MM-DD"))};this.setState({isLoading:!0}),Object(m.d)("barang/tambah-barangs/global-per-jenis?tanggal[gte]=".concat(t.tgl_awal,"&tanggal[lte]=").concat(t.tgl_akhir)).then(e=>{0===e.data.length?(this.setState({export:!1,LaporanBarangDetail:[],isLoading:!1}),Object(d.e)("info","Laporan Tambah Barang Tidak Tersedia")):(Object(d.e)("success","Laporan Tambah Barang Tersedia"),Object(i.m)("tgl_laporan",JSON.stringify(t)),this.setState({isLoading:!1,export:!0,data_per_jenis:e.data,table_per_jenis:!0,table_per_baki:!1}))}).then(()=>{this.setState({isLoading:!1})}).catch(t=>this.errorHandling(t))}errorHandling(t){Object(d.a)(t),this.setState({isLoading:!1})}render(){let t=[{value:"ALL",name:"SEMUA"}];this.props.databaki.forEach(e=>{let a={value:e.kode_baki,name:e.kode_baki+" - "+e.nama_baki};t.push(a)});let e=[{value:"ALL",name:"SEMUA"}];return this.props.dataJenis.forEach(t=>{let a={value:t.kode_dept,name:t.kode_dept+" - "+t.nama_dept};e.push(a)}),n.a.createElement(n.a.Fragment,null,n.a.createElement("form",{onSubmit:t=>this.props.handleSubmit(t),autoComplete:"off",onKeyPress:t=>{"Enter"===t.key&&t.preventDefault()}},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-3"},n.a.createElement(b.a,{name:"tgl_awal",component:y.c,label:"Tanggal Dari",type:"text",defaultValue:Object(i.h)(),selected:this.state.tgl_awal,onChange:t=>this.setStartDate(t),placeholder:"Masukan Tanggal Dari"})),n.a.createElement("div",{className:"col-lg-3"},n.a.createElement(b.a,{name:"tgl_akhir",component:y.c,type:"text",defaultValue:Object(i.h)(),selected:this.state.tgl_akhir,onChange:t=>this.setLastDate(t),label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir"})),n.a.createElement("div",{className:"col-3"},!1===this.state.loading?n.a.createElement(b.a,{label:"Jenis",name:"kode_dept",options:e,placeholder:"Silahkan Pilih Kode Jenis",component:y.f}):n.a.createElement(y.g,{label:"Kode Jenis"})),n.a.createElement("div",{className:"col-3"},!1===this.state.loading?n.a.createElement(b.a,{label:"Baki",name:"kode_toko",options:t,placeholder:"Silahkan Pilih Kode Baki",component:y.f}):n.a.createElement(y.g,{label:"Kode Baki"})),n.a.createElement("div",{className:"col-4 mb-2"},n.a.createElement("label",null," \xa0 "),n.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.submitting,type:"submit",onClick:()=>this.setState({table_per_normal:!0,table_per_baki:!1,table_per_jenis:!1})},this.props.isLoading?n.a.createElement(n.a.Fragment,null,n.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Memfilter"):"Lihat Laporan")),n.a.createElement("div",{className:"col-4 mb-2"},n.a.createElement("label",null," \xa0 "),n.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.submitting,type:"button",onClick:()=>this.GlobalPerBaki()},this.state.isLoading?n.a.createElement(n.a.Fragment,null,n.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Memfilter"):"Global Per baki")),n.a.createElement("div",{className:"col-4 mb-2"},n.a.createElement("label",null," \xa0 "),n.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.submitting,type:"button",onClick:()=>this.GlobalPerJenis()},this.state.isLoading?n.a.createElement(n.a.Fragment,null,n.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Memfilter"):"Global Per Jenis")),n.a.createElement("div",{className:"col-12"},this.state.table_per_baki?n.a.createElement(_.a,{keyField:"kode_barcode",data:this.state.data_per_baki,columns:this.props.columns_per_baki,empty:!0,textEmpty:"Data Laporan Barang Global Per Baki Kosong"}):this.state.table_per_jenis?n.a.createElement(_.a,{keyField:"kode_barcode",data:this.state.data_per_jenis,columns:this.props.columns_per_jenis,empty:!0,textEmpty:"Data Laporan Barang Detail Kosong"}):n.a.createElement(_.a,{keyField:"kode_barcode",data:this.props.data,columns:this.props.columns,empty:!0,textEmpty:"Data Laporan Barang Detail Kosong"})),this.props.export&&this.state.table_per_normal?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"col-lg-6"},n.a.createElement("button",{type:"button",onClick:()=>this.exportPdf(),className:"btn btn-warning btn-block"}," ","Export PDF"," ")),n.a.createElement("div",{className:"col-lg-6"},n.a.createElement(u,{data:this.props.data,kode_baki:this.props.kode_baki}))):null,this.state.table_per_baki?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"col-lg-6"},n.a.createElement("button",{type:"button",onClick:()=>this.exportPdfGlobalBaki(),className:"btn btn-warning btn-block"}," ","Export PDF"," ")),n.a.createElement("div",{className:"col-lg-6"},n.a.createElement(N,{data:this.state.data_per_baki,kode_baki:this.props.kode_baki}))):null,this.state.table_per_jenis?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"col-lg-6"},n.a.createElement("button",{type:"button",onClick:()=>this.exportPdfGlobalJenis(),className:"btn btn-warning btn-block"}," ","Export PDF"," ")),n.a.createElement("div",{className:"col-lg-6"},n.a.createElement(B,{data:this.state.data_per_jenis,kode_baki:this.props.kode_baki}))):null),this.props.isLoading?n.a.createElement(x.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null,this.state.isLoading?n.a.createElement(x.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null))}}T=Object(c.a)({form:"HeadFilterLaporan",enableReinitialize:!0})(T);const L=Object(h.a)("HeadFilterLaporan");var D=Object(s.b)(t=>({databaki:t.datamaster.getDataBaki,dataJenis:t.datamaster.getDataJenis,tgl_awal:L(t,"tgl_awal"),tgl_akhir:L(t,"tgl_akhir"),initialValues:{tgl_awal:Object(i.h)(),tgl_akhir:Object(i.h)()}}))(T);class P extends n.a.Component{constructor(t){super(t),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,export:!1,kode_baki:[],LaporanBarangDetail:!1,columns:[{dataField:"kode_barcode",text:"Kode Barcode"},{dataField:"kode_gudang",text:"Kode Gudang"},{dataField:"kode_toko",text:"Kode Baki"},{dataField:"kode_group",text:"Kode Group"},{dataField:"kode_dept",text:"Kode Jenis"},{dataField:"nama_barang",text:"Nama Barang"},{dataField:"nama_atribut",text:"Nama Atribut"},{dataField:"berat",text:"Berat",headerClasses:"text-right",formatter:t=>n.a.createElement("div",{className:"text-right"}," ",Object(i.f)(t,3)," ")},{dataField:"berat_asli",text:"Berat Asli",headerClasses:"text-right",formatter:t=>n.a.createElement("div",{className:"text-right"}," ",Object(i.f)(t,3)," ")},{dataField:"berat_atribut",text:"Berat Atribut",headerClasses:"text-right",formatter:t=>n.a.createElement("div",{className:"text-right"}," ",Object(i.f)(t,3)," ")},{dataField:"harga_jual",text:"Harga Jual",headerClasses:"text-right",formatter:t=>n.a.createElement("div",{className:"text-right"}," ",parseFloat(t).toLocaleString("kr-KO"))}],columns_per_baki:[{dataField:"kode_toko",text:"Kode Baki"},{dataField:"nama_toko",text:"Nama Baki"},{dataField:"stock_tambah",text:"Tambah Ptg",headerClasses:"text-right",formatter:t=>n.a.createElement("div",{className:"text-right"}," ",t," ")},{dataField:"berat_tambah",text:"Tambah Berat",headerClasses:"text-right",formatter:t=>n.a.createElement("div",{className:"text-right"}," ",Object(i.f)(t,3)," ")},{dataField:"berat_asli_tambah",text:"Tambah Berat Asli",headerClasses:"text-right",formatter:t=>n.a.createElement("div",{className:"text-right"}," ",Object(i.f)(t,3)," ")}],columns_per_jenis:[{dataField:"kode_dept",text:"Kode Jenis"},{dataField:"nama_dept",text:"Nama Jenis"},{dataField:"stock_tambah",text:"Tambah Ptg",headerClasses:"text-right",formatter:t=>n.a.createElement("div",{className:"text-right"}," ",t," ")},{dataField:"berat_tambah",text:"Tambah Berat",headerClasses:"text-right",formatter:t=>n.a.createElement("div",{className:"text-right"}," ",Object(i.f)(t,3)," ")},{dataField:"berat_asli_tambah",text:"Tambah Berat Asli",headerClasses:"text-right",formatter:t=>n.a.createElement("div",{className:"text-right"}," ",Object(i.f)(t,3)," ")}]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){let t=JSON.parse(Object(i.l)("userdata"));this.setState({username:t.user_id})}handleSubmit(t){let e={tgl_awal:Object(i.e)(f()(new Date(t.tgl_awal||Object(i.h)())).format("YYYY-MM-DD")),tgl_akhir:Object(i.e)(f()(new Date(t.tgl_akhir||Object(i.h)())).format("YYYY-MM-DD"))};this.setState({isLoading:!0,kode_toko:t.kode_baki}),Object(m.m)("barang/tambah-barangs?tanggal[gte]=".concat(e.tgl_awal,"&tanggal[lte]=").concat(e.tgl_akhir,"&kode_dept=").concat(t.kode_dept,"&kode_toko=").concat(t.kode_toko)).then(t=>{0===t.data.length?(this.setState({export:!1,LaporanBarangDetail:[]}),Object(d.e)("info","Laporan Tambah Barang Tidak Tersedia")):(Object(d.e)("success","Laporan Tambah Barang Tersedia"),Object(i.m)("tgl_laporan",JSON.stringify(e)),this.setState({export:!0,LaporanBarangDetail:t.data}))}).then(()=>{this.setState({isLoading:!1})}).catch(t=>this.errorHandling(t))}errorHandling(t){Object(d.a)(t),this.setState({isLoading:!1})}render(){return n.a.createElement("div",null,n.a.createElement("ol",{className:"breadcrumb float-xl-right"},n.a.createElement("li",{className:"breadcrumb-item"},n.a.createElement(r.b,{to:"#"},"Laporan Tambah Barang")),n.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Tambah Barang Detail")),n.a.createElement("h1",{className:"page-header"},"Laporan Tambah Barang"),n.a.createElement(o.a,null,n.a.createElement(o.c,null,"Filter Laporan"),n.a.createElement("br",null),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement(D,{kode_baki:this.state.kode_baki,export:this.state.export,columns:this.state.columns,data:this.state.LaporanBarangDetail,isLoading:this.state.isLoading,columns_per_baki:this.state.columns_per_baki,columns_per_jenis:this.state.columns_per_jenis,onSubmit:t=>this.handleSubmit(t)})))),n.a.createElement("br",null)))}}P=Object(c.a)({form:"FormLaporanTambahBarang",enableReinitialize:!0})(P);e.default=Object(s.b)(t=>({hideModal:t.datamaster.modalDialog}),null)(P)}}]);
//# sourceMappingURL=73.aa48ee4f.chunk.js.map