{"version":3,"sources":["pages/Barang/TerimaBarang/FormTerimaBarang.jsx","pages/Barang/TerimaBarang/TerimaBarang.jsx","../node_modules/reactstrap/es/ModalFooter.js"],"names":["FormTerimaBarang","Component","constructor","props","super","this","state","no_kirim","datagudang","databaki","loading","componentDidMount","dispatch","getDataGudang","getDataBaki","render","react_default","a","createElement","Modal","backdrop","keyboard","isOpen","toggle","hideModal","ModalHeader","title","onSubmit","handleSubmit","autoComplete","onKeyPress","e","key","preventDefault","ModalBody","className","Field","label","name","options","map","list","value","_id","placeholder","component","ReanderSelect","onChange","setState","kode_gudang","change","filter","undefined","nama_gudang","react_loading_skeleton_lib_default","width","height","kode_baki","nama_baki","ModalFooter","disabled","submitting","type","isLoading","Fragment","onClick","loading_default","background","loaderColor","reduxForm","form","enableReinitialize","connect","initialValues","localStorage","getItem","JSON","parse","datamaster","SearchBar","Search","Nokirim","databarang","getNokirim","modalDialog","React","isEdit","isLoadingBtn","DataTerimaBarang","SimpanDataBarang","resetTerimaBarang","columns","dataField","text","formatter","cell","row","num","index","footerAttrs","colSpan","footer","length","sort","toFixed","columnData","reduce","acc","item","bind","setTimeout","data","data_post","kode_toko","setItem","stringify","data_edit","getData","then","res","reset","formEditBaki","dataEdit","showModal","ShowModalTerimaBarang","terimabangOnline","postData","NotifSucces","catch","error","errorHandling","err","NotifError","react_router_dom","to","panel","react_bootstrap_table2_toolkit_lib_default","keyField","search","exportCSV","fileName","searchProps","lib_default","baseProps","TerimaBarang_FormTerimaBarang","_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","n","prop_types__WEBPACK_IMPORTED_MODULE_3__","prop_types__WEBPACK_IMPORTED_MODULE_3___default","classnames__WEBPACK_IMPORTED_MODULE_4__","classnames__WEBPACK_IMPORTED_MODULE_4___default","_utils__WEBPACK_IMPORTED_MODULE_5__","propTypes","tag","string","cssModule","object","Tag","attributes","Object","classes","defaultProps","__webpack_exports__"],"mappings":"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","file":"static/js/40.38ad6309.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\n// import { getNokirim } from \"../../../actions/databarang_action\";\r\nimport { getDataBaki, getDataGudang, hideModal } from \"../../../actions/datamaster_action\";\r\nimport { ReanderSelect } from \"../../../components/helpers/field\";\r\nimport Loading from 'react-fullscreen-loading';\r\n\r\nconst maptostate = (state) => {\r\n  let data_terima_barang =\r\n  localStorage.getItem(\"data_terima_barang\") === null || undefined\r\n    ? []\r\n    : JSON.parse(localStorage.getItem(\"data_terima_barang\") || []);\r\n    \r\n  return {\r\n    initialValues: {\r\n      no_kirim: data_terima_barang.no_kirim || \"\",\r\n    },\r\n    datagudang: state.datamaster.getDataGudang,\r\n    databaki: state.datamaster.getDataBaki,\r\n  };\r\n};\r\nclass FormTerimaBarang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        no_kirim: [],\r\n        datagudang:[],\r\n        databaki: [],\r\n        loading:false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataGudang())\r\n    this.props.dispatch(getDataBaki())\r\n    // this.props.dispatch(getNokirim())\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Modal\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n        isOpen={this.props.isOpen}\r\n        toggle={() => this.props.dispatch(hideModal())}\r\n      >\r\n        <ModalHeader> {this.props.title} </ModalHeader>\r\n        <form onSubmit={this.props.handleSubmit} autoComplete=\"off\"\r\n          onKeyPress={(e) => {\r\n            e.key === \"Enter\" && e.preventDefault();\r\n          }}\r\n        >\r\n          <ModalBody>\r\n            <div className=\"form-group\">\r\n                <Field\r\n                  label=\"No Kirim\"\r\n                  name=\"no_kirim\"\r\n                  options={this.props.no_kirim\r\n                    .map((list) => {\r\n                    let data = {\r\n                      value: list._id.no_kirim,\r\n                      name: list._id.no_kirim,\r\n                    };\r\n                    return data;\r\n                  })}\r\n                  placeholder={\"Silahkan Pilih No Kirim\"}\r\n                  component={ReanderSelect}\r\n                />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              {this.state.datagudang !== [] ? (\r\n                <Field\r\n                  label=\"Kode Gudang\"\r\n                  name=\"kode_gudang\"\r\n                  onChange={(e) => {\r\n                    this.setState({ kode_gudang: e })\r\n                    this.props.change('kode_baki','')\r\n                  }}\r\n                  options={this.props.datagudang\r\n                    .filter((list) => list.kode_gudang !== undefined)\r\n                    .map((list) => {\r\n                      let data = {\r\n                        value: list.kode_gudang,\r\n                        name: list.kode_gudang + \" - \" + list.nama_gudang,\r\n                      };\r\n                      return data;\r\n                    })}\r\n                  placeholder={\"Silahkan Pilih Kode Gudang\"}\r\n                  component={ReanderSelect}\r\n                />\r\n              ) : (\r\n                <Skeleton width={\"100%\"} height={50} />\r\n              )}\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <Field\r\n                  label=\"Kode Baki\"\r\n                  name=\"kode_baki\"\r\n                  options={this.props.databaki\r\n                    .filter((list) => list.kode_gudang === this.state.kode_gudang)\r\n                    .map((databaki) => {\r\n                    let data = {\r\n                      value: databaki.kode_baki,\r\n                      name: databaki.kode_baki + \" - \" + databaki.nama_baki,\r\n                    };\r\n                    return data || [];\r\n                  })}\r\n                  placeholder={\"Silahkan Pilih Kode Baki\"}\r\n                  component={ReanderSelect}\r\n                />\r\n            </div>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n          <button\r\n              className=\"btn btn-primary\"\r\n              disabled={this.props.submitting}\r\n              type=\"submit\"\r\n            >\r\n              {this.props.isLoading ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Cek Data Barang\r\n                </>\r\n              ) : (\r\n                \"Cek Data Barang\"\r\n              )}\r\n            </button>\r\n            <button\r\n              className=\"btn btn-white\"\r\n              onClick={() => this.props.dispatch(hideModal())}\r\n              type=\"button\"\r\n              disabled={this.props.isLoading}\r\n            >\r\n              Batal\r\n            </button>\r\n            \r\n          </ModalFooter>\r\n          {this.props.isLoading ? (\r\n        <Loading \r\n        loading\r\n        background=\"rgba(0, 0, 0, 0.35)\"\r\n         loaderColor=\"rgba(94, 147, 117, 1)\" />\r\n      ) : null}\r\n        </form>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nFormTerimaBarang = reduxForm({\r\n  form: \"FormTerimaBarang\",\r\n  enableReinitialize: true,\r\n})(FormTerimaBarang);\r\nexport default connect(maptostate,null)(FormTerimaBarang);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Panel, PanelHeader } from \"../../../components/panel/panel.jsx\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\";\r\nimport { hideModal, showModal } from \"../../../actions/datamaster_action.jsx\";\r\nimport {\r\n  getNokirim,\r\n  ShowModalTerimaBarang,\r\n} from \"../../../actions/databarang_action.jsx\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport FormTerimaBarang from \"./FormTerimaBarang.jsx\";\r\nimport { getData, postData } from \"../../../config/axios.jsx\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport {\r\n  NotifError,\r\n  NotifSucces,\r\n} from \"../../../components/helpers/notification.jsx\";\r\nimport { reset } from \"redux-form\";\r\n// import LoadingButton from \"../../../components/helpers/function.jsx\";\r\nconst { SearchBar } = Search;\r\nconst maptostate = (state) => {\r\n  return {\r\n    Nokirim: state.databarang.getNokirim,\r\n    hideModal: state.datamaster.modalDialog,\r\n  };\r\n};\r\n\r\nclass TerimaBarang extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isEdit: false,\r\n      modalDialog: false,\r\n      isLoading: false,\r\n      isLoadingBtn: false,\r\n      DataTerimaBarang: [],\r\n      SimpanDataBarang: false,\r\n      resetTerimaBarang : false,\r\n      columns: [\r\n        {\r\n          dataField: \"no\",\r\n          text: \"No \",\r\n          formatter: (cell, row, num, index) => {\r\n            this.setState({ num: 1 + num });\r\n            return <div> {++num} </div>;\r\n          },\r\n          footerAttrs: {\r\n            colSpan: \"4\",\r\n          },\r\n          footer: (cell, row, num, index) => {\r\n            return (\r\n              <div>Total Barang : {this.state.DataTerimaBarang.length} </div>\r\n            );\r\n          },\r\n        },\r\n        {\r\n          dataField: \"kode_barang\",\r\n          text: \"Kode Barang\",\r\n          sort: true,\r\n        },\r\n        {\r\n          dataField: \"kode_barcode\",\r\n          text: \"Kode Barcode\",\r\n        },\r\n        {\r\n          dataField: \"kode_intern\",\r\n          text: \"Kode Intern\",\r\n        },\r\n        {\r\n          dataField: \"berat\",\r\n          text: \"Berat\",\r\n          formatter: (cell) => {\r\n            return cell.toFixed(3);\r\n          },\r\n          footer: (columnData) =>\r\n            columnData.reduce((acc, item) => acc + item, 0).toFixed(3),\r\n        },\r\n        {\r\n          dataField: \"nama_atribut\",\r\n          text: \"Nama Atribut\",\r\n          footer: \"\",\r\n        },\r\n        {\r\n          dataField: \"berat_atribut\",\r\n          text: \"Berat Atribut\",\r\n          formatter: (cell) => {\r\n            return cell.toFixed(3);\r\n          },\r\n          footer: (columnData) =>\r\n            columnData.reduce((acc, item) => acc + item, 0).toFixed(3),\r\n        },\r\n      ],\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getNokirim());\r\n  }\r\n  resetTerimaBarang() {\r\n\r\n    this.setState({\r\n      resetTerimaBarang: true,\r\n    });\r\n    setTimeout(() => {\r\n      this.setState({\r\n        DataTerimaBarang: [],\r\n        resetTerimaBarang: false,\r\n      });\r\n    }, 300);\r\n  }\r\n  handleSubmit(data) {\r\n    let data_post = {\r\n      no_kirim: data.no_kirim,\r\n      kode_gudang: data.kode_gudang,\r\n      kode_toko: data.kode_baki,\r\n    };\r\n    localStorage.setItem('data_terima_barang', JSON.stringify(data_post));\r\n    this.setState({ SimpanDataBarang: data_post });\r\n    this.setState({ isLoading: true });\r\n    let data_edit = {\r\n      no_kirim: data.no_kirim,\r\n    };\r\n    getData(\"kirimbarang/get/nokirim/\" + data.no_kirim, data_edit)\r\n      .then((res) => {\r\n        this.setState({\r\n          DataTerimaBarang: res.data,\r\n        });\r\n      })\r\n      .then(() => {\r\n        this.setState({ isLoading: false });\r\n      })\r\n      .then(() => {\r\n        this.props.dispatch(reset(\"FormTerimaBarang\"));\r\n      })\r\n      .then(() => {\r\n        this.props.dispatch(hideModal());\r\n      });\r\n  }\r\n\r\n  formEditBaki(dataEdit) {\r\n    this.props.dispatch(showModal());\r\n    this.props.dispatch(ShowModalTerimaBarang(dataEdit));\r\n    this.setState({\r\n      isEdit: true,\r\n    });\r\n  }\r\n  ShowModalTerimaBarang() {\r\n    this.props.dispatch(showModal());\r\n    this.props.dispatch(ShowModalTerimaBarang(false));\r\n    this.setState({\r\n      isEdit: false,\r\n    });\r\n  }\r\n  terimabangOnline() {\r\n    this.setState({ isLoadingBtn: true });\r\n    postData(\"terimabarang/add\", this.state.SimpanDataBarang)\r\n      .then(() => {\r\n        this.setState({\r\n          DataTerimaBarang: [],\r\n        });\r\n      })\r\n      .then(() => {\r\n        this.props.dispatch(reset(\"FormTerimaBarang\"));\r\n        localStorage.setItem('data_terima_barang', JSON.stringify([]));\r\n      })\r\n      .then(() => {\r\n        this.props.dispatch(getNokirim());\r\n      })\r\n      .then(() => {\r\n        this.setState({ isLoadingBtn: false });\r\n      })\r\n      .then(() => {\r\n        NotifSucces(\"Barang Berhasil Diterima\");\r\n      })\r\n      .catch((error) => this.errorHandling(error));\r\n  }\r\n  errorHandling(err) {\r\n    NotifError(err);\r\n    this.setState({ isLoadingBtn: false });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Barang</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Terima Barang</li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Terima Barang </h1>\r\n        <Panel>\r\n          <PanelHeader>Terima Barang</PanelHeader>\r\n          <br />\r\n\r\n          {/* Terima Barang */}\r\n          <div className=\"container\">\r\n            {this.state.isLoading === false ? (\r\n              <ToolkitProvider\r\n                keyField=\"kode_barang\"\r\n                data={this.state.DataTerimaBarang || []}\r\n                columns={this.state.columns}\r\n                search\r\n                exportCSV={{\r\n                  fileName: \"Export Terima Barang.csv\",\r\n                }}\r\n              >\r\n                {(props) => (\r\n                  <div className=\"row\">\r\n                    <div className=\"col-6\">\r\n                      <button\r\n                        onClick={() => this.ShowModalTerimaBarang()}\r\n                        className=\"btn btn-teal\"\r\n                      >\r\n                        {\" \"}\r\n                        <i className=\"fa fa-plus\"></i>{\" \"}\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                      <div className=\"text-right\">\r\n                        <SearchBar {...props.searchProps} />\r\n                      </div>\r\n                    </div>\r\n                    <hr />\r\n                    <div className=\"col-12\">\r\n                      <BootstrapTable {...props.baseProps} />\r\n                      <br />\r\n\r\n                      <>\r\n                        <button\r\n                          className=\"btn btn-primary\"\r\n                          onClick={() => this.terimabangOnline()}\r\n                        >\r\n                          {/* {this.state.isLoadingBtn ? \"\" : \"Terima Barang\"} */}\r\n                          {this.state.isLoadingBtn ? (\r\n                            <>\r\n                              <i className=\"fas fa-spinner fa-spin\"></i> &nbsp;\r\n                              Terima Barang\r\n                            </>\r\n                          ) : (\r\n                            \"Terima Barang\"\r\n                          )}\r\n                        </button>\r\n                        &nbsp;\r\n                        <button\r\n                          className=\"btn btn-warning\"\r\n                          onClick={() => this.resetTerimaBarang()}\r\n                        >\r\n                          {this.state.resetTerimaBarang ? (\r\n                            <>\r\n                              <i className=\"fas fa-spinner fa-spin\"></i> &nbsp;\r\n                              Reset\r\n                            </>\r\n                          ) : (\r\n                            \"Reset\"\r\n                          )}\r\n                        </button>\r\n                      </>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </ToolkitProvider>\r\n            ) : (\r\n              <Skeleton width={\"100%\"} height={200} />\r\n            )}\r\n            <FormTerimaBarang\r\n              no_kirim={this.props.Nokirim}\r\n              isLoading={this.state.isLoading}\r\n              isEdit={this.state.isEdit}\r\n              title={this.state.isEdit ? \"Terima Barang\" : \"Terima Barang\"}\r\n              isOpen={this.props.hideModal}\r\n              onSubmit={(data) => this.handleSubmit(data)}\r\n            />\r\n          </div>\r\n          <br />\r\n          {/* End Tambah Terima Barang  */}\r\n        </Panel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(maptostate, null)(TerimaBarang);\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar ModalFooter = function ModalFooter(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'modal-footer'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nModalFooter.propTypes = propTypes;\nModalFooter.defaultProps = defaultProps;\nexport default ModalFooter;"],"sourceRoot":""}