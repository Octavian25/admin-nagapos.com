(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{1238:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),o=a(27),r=a(131),c=a(47),s=a(329),i=a(7),d=(a(344),a(24)),m=a(13),E=a(328),p=a(30),b=a(15),u=a(107);a(226);var g=(e="",t="")=>{const a=new u.default("l","mm",[297,210]);let l=[],n=[],o=30,r=0,c=0,s=0;a.setFontSize(15),a.text("LAPORAN BARANG DETAIL",14,15),a.setFontSize(20),a.text(Object(i.j)().nama_toko,200,15),a.setFontSize(8);let d=Object(i.j)().alamat_toko.length;d>20&&a.text(Object(i.j)().alamat_toko.slice(0,48),200,20),d>50&&a.text(Object(i.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN BARANG DETAIL"}),n=[[{content:"NO"},{content:"KODE BARCODE"},{content:"KODE GROUP"},{content:"KODE JENIS"},{content:"KODE INTERN"},{content:"KODE GUDANG"},{content:"NAMA BARANG"},{content:"BERAT",styles:{halign:"right"}},{content:"NAMA ATRIBUTE"},{content:"BERAT ATRIBUTE",styles:{halign:"right"}}]],e.forEach((e,t)=>{let a=[{content:"".concat(++t),styles:{cellWidth:10}},e.kode_barcode,e.kode_group,e.kode_dept,e.kode_intern,e.kode_gudang,e.nama_barang,{content:Object(i.f)(e.berat,3),styles:{halign:"right"}},e.nama_atribut,{content:Object(i.f)(e.berat_atribut,3),styles:{halign:"right"}}];r+=e.berat,c+=e.stock_on_hand,s+=e.berat_atribut,l.push(a)});let m=[{content:"Total",colSpan:7,styles:{halign:"center",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(Object(i.f)(r,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"",styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(Object(i.f)(s,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}}];l.push(m);let E=[{colSpan:6,content:"Printed By ".concat(JSON.parse(Object(i.l)("userdata")).user_id," / ").concat(Object(i.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];l.push(E),a.autoTable({head:n,body:l,startY:o,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),o=a.autoTableEndPosY()+3,l=[];const p=a.internal.getNumberOfPages(),b=a.internal.pageSize.width,g=a.internal.pageSize.height;a.setFontSize(10);for(let i=1;i<p+1;i++){let e=b/2,t=g-10;a.setPage(i),a.text("".concat(i," of ").concat(p),e,t,{align:"center"})}a.save("LAPORAN BARANG DETAIL.pdf")},h=a(132),k=a.n(h);var _=class extends l.Component{constructor(e){super(e),this.state={}}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(k.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Barang Detail",sheet:"Laporan Barang Detail",buttonText:"Export Exel"}),n.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"9",style:{textAlign:"center"}}," LAPORAN BARANG DETAIL ")),n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"9"}," TOKO :  ",Object(i.j)().nama_toko," ")),n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"9"}," ALAMAT :  ",Object(i.j)().alamat_toko," ")),n.a.createElement("tr",null),n.a.createElement("tr",null,n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NO"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE BARCODE"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE GROUP"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE JENIS"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE INTERN"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE GUDANG"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA BARANG"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA ATRIBUT"),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT ATRIBUT"))),n.a.createElement("tbody",null,this.props.data.map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",{style:{textAlign:"center"}}," ",t+1),n.a.createElement("td",null,"\xa0",e.kode_barcode),n.a.createElement("td",null," ",e.kode_group),n.a.createElement("td",null," ",e.kode_dept),n.a.createElement("td",null," ",e.kode_intern),n.a.createElement("td",null," ",e.kode_gudang),n.a.createElement("td",null," ",e.nama_barang),n.a.createElement("td",null," ",Object(i.f)(e.berat,3)),n.a.createElement("td",null," ",e.nama_atribut),n.a.createElement("td",null," ",Object(i.f)(e.berat_atribut,3))))),n.a.createElement("tfoot",null,n.a.createElement("tr",null,n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"center"},colSpan:"7"},"  "),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(i.f)(this.props.data.map(e=>e.berat).reduce((e,t)=>e+t,0),3),"   "),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"  "),n.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(i.f)(this.props.data.map(e=>e.berat_atribut).reduce((e,t)=>e+t,0),3),"  ")))))}},A=a(92),L=a(61),O=a.n(L);class f extends l.Component{constructor(e){super(e),this.state={loading:!1,list_baki:[{value:"SEMUA",name:"SEMUA"}]}}componentDidMount(){this.props.dispatch(Object(b.u)()),this.props.dispatch(Object(b.ob)()),this.props.dispatch(Object(b.kb)()),this.props.dispatch(Object(b.mb)()),setTimeout(()=>{this.props.change("kode_group","ALL"),this.props.change("kode_jenis","ALL"),this.props.change("kode_gudang","ALL"),this.props.change("kode_baki","ALL")},100)}exportPdf(){g(this.props.data,this.props.kode_baki)}render(){let e=[{value:"ALL",name:"SEMUA"}];this.props.databaki.forEach(t=>{let a={value:t.kode_baki,name:t.kode_baki+" - "+t.nama_baki};e.push(a)});let t=[{value:"ALL",name:"SEMUA"}];this.props.dataGroup.forEach(e=>{let a={value:e.kode_group,name:e.kode_group+" - "+e.nama_group};t.push(a)});let a=[{value:"ALL",name:"SEMUA"}];this.props.dataJenis.forEach(e=>{let t={value:e.kode_dept,name:e.kode_dept+" - "+e.nama_dept};a.push(t)});let l=[{value:"ALL",name:"SEMUA"}];return this.props.dataGudang.forEach(e=>{let t={value:e.kode_gudang,name:e.kode_gudang+" - "+e.nama_gudang};l.push(t)}),n.a.createElement(n.a.Fragment,null,n.a.createElement("form",{onSubmit:e=>this.props.handleSubmit(e),autoComplete:"off",onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-3"},!1===this.state.loading?n.a.createElement(E.a,{label:"Group",name:"kode_group",options:t,placeholder:"Silahkan Pilih Kode Group",component:p.f}):n.a.createElement(p.g,{label:"Kode Group"})),n.a.createElement("div",{className:"col-3"},!1===this.state.loading?n.a.createElement(E.a,{label:"Jenis",name:"kode_jenis",options:a,placeholder:"Silahkan Pilih Kode Jenis",component:p.f}):n.a.createElement(p.g,{label:"Kode Jenis"})),n.a.createElement("div",{className:"col-3"},!1===this.state.loading?n.a.createElement(E.a,{label:"Gudang",name:"kode_gudang",options:l,placeholder:"Silahkan Pilih Kode Gudang",onChange:e=>{"ALL"!==e?this.props.dispatch(Object(b.lb)(e)):this.props.dispatch(Object(b.kb)())},component:p.f}):n.a.createElement(p.g,{label:"Kode Gudang"})),n.a.createElement("div",{className:"col-3"},!1===this.state.loading?n.a.createElement(E.a,{label:"Kode Baki",name:"kode_baki",options:e,placeholder:"Silahkan Pilih Kode Baki",component:p.f}):n.a.createElement(p.g,{label:"Kode Baki"})),n.a.createElement("div",{className:"col-lg-9"}),n.a.createElement("div",{className:"col-3"},n.a.createElement("label",null," \xa0 "),n.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.submitting,type:"submit"},this.props.isLoading?n.a.createElement(n.a.Fragment,null,n.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Memfilter"):"Filter Laporan")),n.a.createElement("div",{className:"col-12"},n.a.createElement(A.a,{keyField:"kode_barcode",data:this.props.data,columns:this.props.columns,empty:!0,textEmpty:"Data Laporan Barang Detail Kosong"})),this.props.export?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"col-lg-6"},n.a.createElement("button",{type:"button",onClick:()=>this.exportPdf(),className:"btn btn-warning btn-block"}," ","Export PDF"," ")),n.a.createElement("div",{className:"col-lg-6"},n.a.createElement(_,{data:this.props.data,kode_baki:this.props.kode_baki}))):null),this.props.isLoading?n.a.createElement(O.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null))}}f=Object(s.a)({form:"HeadFilterLaporan",enableReinitialize:!0})(f);var N=Object(c.b)(e=>({databaki:e.datamaster.getDataBaki,dataJenis:e.datamaster.getDataJenis,dataGroup:e.datamaster.GetDataGroup,dataGudang:e.datamaster.getDataGudang}),null)(f);class S extends n.a.Component{constructor(e){super(e),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,export:!1,kode_baki:[],LaporanBarangDetail:!1,columns:[{dataField:"kode_barcode",text:"Kode Barcode",footerAttrs:{colSpan:"6"},footer:(e,t,a,l)=>n.a.createElement("div",null,"Total Barang : ",this.state.LaporanBarangDetail.length||0," ")},{dataField:"kode_group",text:"Kode Group"},{dataField:"kode_dept",text:"Kode Jenis"},{dataField:"kode_gudang",text:"Kode Gudang"},{dataField:"kode_toko",text:"Kode Baki"},{dataField:"nama_barang",text:"Nama Barang"},{dataField:"berat",text:"Berat",headerClasses:"text-right",formatter:e=>n.a.createElement("div",{className:"text-right"}," ",Object(i.f)(e,3)," "),footer:e=>n.a.createElement("div",{className:"text-right"}," ",Object(i.f)(e.reduce((e,t)=>e+t,0),3)," ")}]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){let e=JSON.parse(Object(i.l)("userdata"));this.setState({username:e.user_id})}handleSubmit(e){this.setState({isLoading:!0,kode_toko:e.kode_baki}),Object(m.f)("reportbarang/barangdetail?kode_gudang=".concat(e.kode_gudang||"ALL","&kode_toko=").concat(e.kode_baki||"ALL","&kode_jenis=").concat(e.kode_jenis||"ALL","&kode_group=").concat(e.kode_group||"ALL")).then(t=>{0===t.data.length?(this.setState({export:!1,LaporanBarangDetail:[]}),Object(d.e)("info","Laporan Barang Detail Tidak Tersedia")):(Object(d.e)("success","Laporan Barang Detail Tersedia"),this.setState({export:!0,kode_baki:e.kode_baki,LaporanBarangDetail:t.data}))}).then(()=>{this.setState({isLoading:!1})}).catch(e=>this.errorHandling(e))}errorHandling(e){Object(d.a)(e),this.setState({isLoading:!1})}render(){return n.a.createElement("div",null,n.a.createElement("ol",{className:"breadcrumb float-xl-right"},n.a.createElement("li",{className:"breadcrumb-item"},n.a.createElement(o.b,{to:"#"},"Laporan Barang")),n.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Barang Detail")),n.a.createElement("h1",{className:"page-header"},"Laporan Barang Detail"),n.a.createElement(r.a,null,n.a.createElement(r.c,null,"Filter Laporan"),n.a.createElement("br",null),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement(N,{kode_baki:this.state.kode_baki,export:this.state.export,columns:this.state.columns,data:this.state.LaporanBarangDetail,isLoading:this.state.isLoading,onSubmit:e=>this.handleSubmit(e)})))),n.a.createElement("br",null)))}}S=Object(s.a)({form:"FormDetailBarang",enableReinitialize:!0})(S);t.default=Object(c.b)(e=>({hideModal:e.datamaster.modalDialog}),null)(S)}}]);
//# sourceMappingURL=72.c195e272.chunk.js.map