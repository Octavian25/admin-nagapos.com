(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{1252:function(e,a,t){"use strict";t.r(a);var i=t(0),n=t.n(i),s=t(27),o=t(131),r=t(15),d=t(48),l=t(22),c=t.n(l),b=t(24),m=t(13),p=t(55),h=t(7),g=t(92),u=t(329),E=t(330),k=t(30);var K=(e,a)=>{const t={};return e.kondisi_barang||(t.kondisi_barang="kondisi Tidak Boleh Kosong"),e.persentase||(t.persentase="Presentase Tidak Boleh Kosong"),t},O=t(61),P=t.n(O),j=t(134);const _=Object(j.createNumberMask)({prefix:"Rp. ",locale:"kr-KO"});class f extends i.Component{constructor(...e){super(...e),this.state={aktif:!1}}componentDidMount(){setTimeout(()=>{this.props.isEdit,document.getElementById("kondisi_barang").focus()},100)}render(){return n.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},n.a.createElement("input",{type:"hidden",name:"kondisi_barang_lama"}),this.props.isEdit?n.a.createElement(n.a.Fragment,null,n.a.createElement(u.a,{name:"id",component:k.b,type:"hidden",readOnly:this.props.isEdit})):null,n.a.createElement(u.a,{tabIndex:"1",id:"kondisi_barang",name:"kondisi_barang",component:k.e,type:"text",label:" Kondisi Pembelian",placeholder:"Masukan  Kondisi Pembelian"}),n.a.createElement(u.a,Object.assign({tabIndex:"2",id:"potongan_harga",name:"potongan_harga",component:k.e,type:"text"},_,{label:"Potongan Harga",onBlur:()=>this.setState({aktif:!0}),placeholder:"Masukan Potongan Harga"})),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 text-right"},n.a.createElement("button",{className:"btn btn-white",onClick:()=>this.props.dispatch(Object(r.Ab)()),type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",n.a.createElement("button",{tabIndex:"3",className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.submitting,type:"submit"},this.props.isLoading?n.a.createElement(n.a.Fragment,null,n.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?n.a.createElement(P.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}f=Object(E.a)({form:"ModalKondisiPembelian",enableReinitialize:!0,validate:K})(f);var S=Object(d.b)(e=>{if(null!==e.datamaster.ShowModalKondisiPembelian)return{initialValues:{id:e.datamaster.ShowModalKondisiPembelian.id,kondisi_barang_lama:e.datamaster.ShowModalKondisiPembelian.kondisi_barang,kondisi_barang:e.datamaster.ShowModalKondisiPembelian.kondisi_barang,potongan_harga:e.datamaster.ShowModalKondisiPembelian.potongan_harga}}},null)(f),M=t(228);const w=(e,a)=>{c.a.fire({html:"Apakah Anda Yakin Ingin Menghapus <h1><b>Kode Kondisi Pembelian "+e.kondisi_barang+"</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(t=>{t.isConfirmed&&Object(m.b)("parabeli/delete/by-kode-kondisi/"+e._id).then(()=>{Object(b.d)("Data Berhasil Di Hapus").then(()=>a(Object(r.ub)()))})}).catch(e=>{Object(b.e)("error",e.response.data)})};a.default=Object(d.b)(e=>({DataKondisiPembelian:e.datamaster.getKondisiPembelian,hideModal:e.datamaster.modalDialog}),null)(class extends n.a.Component{constructor(e){super(e),this.state={isEdit:!1,isLoading:!1,modalDialog:!1,columns:[{dataField:"kondisi_barang",text:"Kode Kondisi Pembelian",sort:!0},{dataField:"potongan",text:"Potongan Harga",formatter:e=>void 0===e?0:e.toLocaleString("kr-KO")},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a)=>{let t={id:a._id,kondisi_barang:a.kondisi_barang,potongan_harga:a.potongan};return n.a.createElement("div",{className:"row text-center"},n.a.createElement("div",{className:"col-12"},n.a.createElement("button",{onClick:()=>this.formEditKondisiPembelian(t),className:"btn btn-primary mr-3"},n.a.createElement("i",{className:"fa fa-edit"})),n.a.createElement("button",{onClick:()=>w(a,this.props.dispatch),className:"btn btn-danger"},n.a.createElement("i",{className:"fa fa-trash"}))))}}]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){this.props.dispatch(Object(r.ub)())}handleSubmit(e){this.setState({isLoading:!0});let a={kondisi_barang:e.kondisi_barang,potongan:e.potongan_harga,persentase:1},t={kondisi_barang:e.kondisi_barang,potongan:e.potongan_harga||0,persentase:1};this.state.isEdit?Object(m.p)("parabeli/edit/by-kode-kondisi/"+e.id,a).then(()=>{this.props.dispatch(Object(r.Ab)())}).then(()=>{Object(b.e)("success","Data Berhasil Diedit")}).then(()=>{this.props.dispatch(Object(r.ub)())}).then(()=>{this.setState({isLoading:!1})}).then(()=>{this.setState({isLoading:!1}),this.props.dispatch(Object(p.d)("ModalKondisiPembelian"))}).catch(e=>{this.setState({isLoading:!1}),Object(b.e)("info",void 0===e.response?"Terjadi Kesalahan Saat Megirim Data ":e.response.data)}):Object(m.j)("parabeli/add",t).then(()=>{this.props.dispatch(Object(r.Ab)())}).then(()=>{Object(b.e)("success","Data Berhasil Disimpan")}).then(()=>{this.props.dispatch(Object(r.ub)())}).then(()=>{this.props.dispatch(Object(p.d)("ModalKondisiPembelian"))}).then(()=>{this.setState({isLoading:!1})}).catch(e=>Object(h.a)(e,"parabeli/reactive/by-kode-kondisi/",t,this.props.dispatch,Object(r.ub)(),Object(r.Ab)(),"ModalKondisiPembelian").then(()=>{this.setState({isLoading:!1})}))}formEditKondisiPembelian(e){this.props.dispatch(Object(r.Bb)()),this.props.dispatch(Object(r.bb)(e)),this.setState({isEdit:!0})}ShowModalKondisiPembelian(){this.props.dispatch(Object(r.Bb)()),this.props.dispatch(Object(r.bb)(!1)),this.setState({isEdit:!1})}render(){return n.a.createElement("div",null,n.a.createElement("ol",{className:"breadcrumb float-xl-right"},n.a.createElement("li",{className:"breadcrumb-item"},n.a.createElement(s.b,{to:"#"},"Data Master")),n.a.createElement("li",{className:"breadcrumb-item active"},"Master Kondisi Pembelian")),n.a.createElement("h1",{className:"page-header"},"Master Kondisi Pembelian "),n.a.createElement(o.a,null,n.a.createElement(o.c,null,"Master Kondisi Pembelian"),n.a.createElement("br",null),n.a.createElement("div",{className:"container"},n.a.createElement(g.a,{keyField:"kondisi_barang",tambahData:!0,handleClick:()=>this.ShowModalKondisiPembelian(),exportCsv:!0,data:this.props.DataKondisiPembelian,columns:this.state.columns,empty:this.props.DataKondisiPembelian,textEmpty:"Data Kondisi Pembelian Kosong"})),n.a.createElement("br",null),n.a.createElement(M.a,{size:"P",title:this.state.isEdit?"Edit Data Kondisi Pembelian":"Tambah Data Kondisi Pembelian",content:n.a.createElement(S,{isEdit:this.state.isEdit,isLoading:this.state.isLoading,onSubmit:e=>this.handleSubmit(e)})})))}})}}]);
//# sourceMappingURL=65.ef7cb38d.chunk.js.map