(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{1236:function(e,a,t){"use strict";t.r(a);var n=t(13),i=t(14),s=t(26),l=t(16),r=t(15),c=t(0),o=t.n(c),m=t(42),u=t(32),p=t(348),b=t(167),d=t(7),g=t(31),v=t(11),h=t(347),f=t(78),E=t(28),y=t(101),k=t(19),O=t(22),j=t(2),N=t.n(j),_=t(24),S=t.n(_),T=t(9),M={tabs:N.a.bool,pills:N.a.bool,vertical:N.a.oneOfType([N.a.bool,N.a.string]),horizontal:N.a.string,justified:N.a.bool,fill:N.a.bool,navbar:N.a.bool,card:N.a.bool,tag:T.n,className:N.a.string,cssModule:N.a.object},P=function(e){var a=e.className,t=e.cssModule,n=e.tabs,i=e.pills,s=e.vertical,l=e.horizontal,r=e.justified,c=e.fill,m=e.navbar,u=e.card,p=e.tag,b=Object(O.a)(e,["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"]),d=Object(T.j)(S()(a,m?"navbar-nav":"nav",!!l&&"justify-content-"+l,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")}(s),{"nav-tabs":n,"card-header-tabs":u&&n,"nav-pills":i,"card-header-pills":u&&i,"nav-justified":r,"nav-fill":c}),t);return o.a.createElement(p,Object(k.a)({},b,{className:d}))};P.propTypes=M,P.defaultProps={tag:"ul",vertical:!1};var R=P,C={tag:T.n,active:N.a.bool,className:N.a.string,cssModule:N.a.object},I=function(e){var a=e.className,t=e.cssModule,n=e.active,i=e.tag,s=Object(O.a)(e,["className","cssModule","active","tag"]),l=Object(T.j)(S()(a,"nav-item",!!n&&"active"),t);return o.a.createElement(i,Object(k.a)({},s,{className:l}))};I.propTypes=C,I.defaultProps={tag:"li"};var w=I,A=t(33),D=t(25),L={tag:T.n,innerRef:N.a.oneOfType([N.a.object,N.a.func,N.a.string]),disabled:N.a.bool,active:N.a.bool,className:N.a.string,cssModule:N.a.object,onClick:N.a.func,href:N.a.any},x=function(e){function a(a){var t;return(t=e.call(this,a)||this).onClick=t.onClick.bind(Object(A.a)(t)),t}Object(D.a)(a,e);var t=a.prototype;return t.onClick=function(e){this.props.disabled?e.preventDefault():("#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e))},t.render=function(){var e=this.props,a=e.className,t=e.cssModule,n=e.active,i=e.tag,s=e.innerRef,l=Object(O.a)(e,["className","cssModule","active","tag","innerRef"]),r=Object(T.j)(S()(a,"nav-link",{disabled:l.disabled,active:n}),t);return o.a.createElement(i,Object(k.a)({},l,{ref:s,onClick:this.onClick,className:r}))},a}(o.a.Component);x.propTypes=L,x.defaultProps={tag:"a"};var G=x,K=o.a.createContext({}),H={tag:T.n,activeTab:N.a.any,className:N.a.string,cssModule:N.a.object},U=function(e){function a(a){var t;return(t=e.call(this,a)||this).state={activeTab:t.props.activeTab},t}return Object(D.a)(a,e),a.getDerivedStateFromProps=function(e,a){return a.activeTab!==e.activeTab?{activeTab:e.activeTab}:null},a.prototype.render=function(){var e=this.props,a=e.className,t=e.cssModule,n=e.tag,i=Object(T.k)(this.props,Object.keys(H)),s=Object(T.j)(S()("tab-content",a),t);return o.a.createElement(K.Provider,{value:{activeTabId:this.state.activeTab}},o.a.createElement(n,Object(k.a)({},i,{className:s})))},a}(c.Component),z=U;U.propTypes=H,U.defaultProps={tag:"div"};var J={tag:T.n,className:N.a.string,cssModule:N.a.object,tabId:N.a.any};function B(e){var a=e.className,t=e.cssModule,n=e.tabId,i=e.tag,s=Object(O.a)(e,["className","cssModule","tabId","tag"]),l=function(e){return Object(T.j)(S()("tab-pane",a,{active:n===e}),t)};return o.a.createElement(K.Consumer,null,function(e){var a=e.activeTabId;return o.a.createElement(i,Object(k.a)({},s,{className:l(a)}))})}B.propTypes=J,B.defaultProps={tag:"div"};var F=t(240),V=t.n(F),W=Object(f.createNumberMask)({prefix:"Rp. ",suffix:" ,-",locale:"kr-KO"}),X=[{value:"harga_100%",name:"HARGA 100%"},{value:"harga_per_gram",name:"HARGA / GRAM"}],Y=[{value:"GRAM",name:"GRAM"},{value:"RP",name:"RP"}],q=function(e){Object(l.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).state={showMember:!0,activeTab:"1"},i.toggle=i.toggle.bind(Object(s.a)(i)),i}return Object(i.a)(t,[{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return setTimeout(function(){e.props.DataSystem.forEach(function(a){"KATEGORI_HARGA"===a.key&&e.props.change("kategori_harga",a.value),"TIPE_POIN"===a.key&&e.props.change("type_poin",a.value),"CASHBACK_POIN"===a.key&&e.props.change("cashback_poin",a.value),"BOUNDARY_JENIS_GROUP"===a.key&&e.props.change("kadar",a.value),"SEMI_GROSIR_MODULE"===a.key&&e.props.change("module_semi_grosir",JSON.parse(a.value)),"PREVIEW_NOTA_HUTANG_MODULE"===a.key&&e.props.change("module_reprint_hutang",JSON.parse(a.value))})},1e3),o.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},o.a.createElement(R,{tabs:!0,className:"nav-tabs-inverse nav-justified nav-justified-mobile"},o.a.createElement(w,null,o.a.createElement(G,{className:S()({active:"1"===this.state.activeTab}),onClick:function(){e.toggle("1")}},o.a.createElement("i",{className:"fa fa-cog fa-lg m-r-5"})," ",o.a.createElement("span",{className:"d-none d-md-inline"},"Setting System"))),"SU"===Object(d.j)().level?o.a.createElement(w,null,o.a.createElement(G,{className:S()({active:"2"===this.state.activeTab}),onClick:function(){e.toggle("2")}},o.a.createElement("i",{className:"fa fa-archive fa-lg m-r-5"})," ",o.a.createElement("span",{className:"d-none d-md-inline"},"Module"))):null),o.a.createElement(z,{activeTab:this.state.activeTab},o.a.createElement(B,{tabId:"1"},o.a.createElement(V.a,{className:"height-sm",options:{suppressScrollX:!0}},o.a.createElement("br",null),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4"},o.a.createElement(h.a,{name:"kategori_harga",label:"Pilih Kategori Harga",placeholder:"Masukan Kategori Harga",options:X,component:E.f})),o.a.createElement("div",{className:"col-4"},o.a.createElement(h.a,{name:"type_poin",label:"Pilih Type Poin",placeholder:"Masukan Type Poin",options:Y,component:E.f})),o.a.createElement("div",{className:"col-4"},o.a.createElement(h.a,Object.assign({name:"cashback_poin",label:"Cashback Poin",placeholder:"Masukan Cashback Poin",text:"text"},W,{component:E.e}))),this.props.kategoriharga?o.a.createElement("div",{className:"col-4"},o.a.createElement(h.a,{name:"kadar",label:"Kadar",placeholder:"Masukan Kadar",text:"text",normalize:y.c,component:E.e})):null,o.a.createElement("div",{className:"col-12 text-right"},o.a.createElement("label",null," \xa0"),o.a.createElement("button",{className:"btn btn-primary",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))))),o.a.createElement(B,{tabId:"2"},o.a.createElement(V.a,{className:"height-sm",options:{suppressScrollX:!0}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,o.a.createElement(h.a,{id:"semi_grosir",name:"module_semi_grosir",component:"input",type:"checkbox"})," ","Module Semi Grosir"),o.a.createElement("br",null),o.a.createElement("label",null,o.a.createElement(h.a,{id:"module_reprint_hutang",name:"module_reprint_hutang",component:"input",type:"checkbox"})," ","Module Reprint Priviw Hutang"))),o.a.createElement("div",{className:"col-6"}),o.a.createElement("div",{className:"col-12 text-right"},o.a.createElement("label",null," \xa0"),o.a.createElement("button",{className:"btn btn-primary",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data")))))))}}]),t}(c.Component);q=Object(p.a)({form:"FormParameterPoint",enableReinitialize:!0})(q);var Q=Object(m.b)()(q),Z=function(e){Object(l.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).toggle=i.toggle.bind(Object(s.a)(i)),i.state={activeTab:"1",kategori_harga:!1,isLoading:!1},i}return Object(i.a)(t,[{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"componentDidMount",value:function(){window.history.pushState(null,document.title,window.location.href),window.addEventListener("popstate",function(e){window.history.pushState(null,document.title,window.location.href)}),this.props.dispatch(Object(b.d)()),this.koadKategori()}},{key:"koadKategori",value:function(){var e=this;Object(v.e)("para-system/key/kategori_harga").then(function(a){"harga_100%"===a.data.value?e.setState({kategori_harga:!0}):e.setState({kategori_harga:!1})})}},{key:"handleSubmit",value:function(e){var a=this,t={key:"KATEGORI_HARGA",value:e.kategori_harga,type:"kategori_harga"},n={key:"TIPE_POIN",value:e.type_poin,type:"type_poin"},i={key:"CASHBACK_POIN",value:e.cashback_poin,type:"cashback_poin"},s=[{key:"SEMI_GROSIR_MODULE",value:e.module_semi_grosir.toString()||"false",type:"MODULE"},{key:"PREVIEW_NOTA_HUTANG_MODULE",value:e.module_reprint_hutang.toString()||"false",type:"MODULE"}],l=[n,t,i].concat(s);this.setState({isLoading:!0}),Object(v.k)("para-system",l).then(function(e){Object(g.e)("success","Setting System Berhasil Diubah"),a.props.dispatch(Object(b.d)()),a.koadKategori(),Object(v.e)("para-system/type/module").then(function(e){Object(d.p)("module",e.data.filter(function(e){return"true"===e.value})),localStorage.removeItem("saldo_supplier")}),a.setState({isLoading:!1}),setTimeout(function(){window.location.reload()},1e3)}).catch(function(e){a.setState({isLoading:!1})}),this.koadKategori()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("ol",{className:"breadcrumb float-xl-right"},o.a.createElement("li",{className:"breadcrumb-item"},o.a.createElement(u.b,{to:"#"},"Dashboard")),o.a.createElement("li",{className:"breadcrumb-item"},"Setting System")),o.a.createElement("h1",{className:"page-header"},"Setting System"),o.a.createElement(Q,{isLoading:this.state.isLoading,DataSystem:this.props.DataSystem,kategoriharga:this.state.kategori_harga,onSubmit:function(a){return e.handleSubmit(a)}}))}}]),t}(o.a.Component);Z=Object(p.a)({form:"SettingSystem",enableReinitialize:!0})(Z);a.default=Object(m.b)(function(e){return{DataSystem:e.utility.getParaSystem}},null)(Z)}}]);
//# sourceMappingURL=122.2153b21f.chunk.js.map