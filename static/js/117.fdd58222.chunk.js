(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{1227:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),o=t(47),m=t(27),l=t(24),s=t(131),r=t(13),c=t(55),b=t(328),d=t(329),p=t(15),h=t(30),u=t(227),g=t(61),E=t.n(g);class _ extends n.Component{constructor(...e){super(...e),this.state={}}render(){return i.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-6"},i.a.createElement(b.a,{name:"jumlah_poin",component:h.e,type:"number",label:"Jumlah Tambah Poin",placeholder:"Masukan Jumlah Tambah Poin"})),i.a.createElement("div",{className:"col-6"},i.a.createElement("label",{htmlFor:""}," \xa0 "),i.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoadingAmbilPoin,type:"submit"},this.props.isLoadingAmbilPoin?i.a.createElement(i.a.Fragment,null,i.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoadingAmbilPoin?i.a.createElement(E.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}_=Object(d.a)({form:"AmbilPoin",enableReinitialize:!0})(_);var P=Object(o.b)()(_);class k extends n.Component{constructor(...e){super(...e),this.state={}}render(){return i.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-6"},i.a.createElement(b.a,{name:"jumlah_poin",component:h.e,type:"number",label:"Jumlah Tambah Poin",placeholder:"Masukan Jumlah Tambah Poin"})),i.a.createElement("div",{className:"col-6"},i.a.createElement("label",{htmlFor:""}," \xa0 "),i.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoadingTambahPoin,type:"submit"},this.props.isLoadingTambahPoin?i.a.createElement(i.a.Fragment,null,i.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoadingTambahPoin?i.a.createElement(E.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}k=Object(d.a)({form:"TambahPoin",enableReinitialize:!0})(k);var S=Object(o.b)()(k);class N extends n.Component{constructor(e){super(e),this.state={date:new Date,kondisi_barang:"kosong",isLoadingTambahPoin:!1,isLoadingAmbilPoin:!1,FormModal:""}}simpanTambahPoint(e){this.setState({isLoadingTambahPoin:!0});let a=JSON.parse(localStorage.getItem("data_member")||[]),t={kode_member:a[0].kode_member,nama_customer:a[0].nama_customer,alamat_customer:a[0].alamat_customer,poin:parseInt(e.jumlah_poin)};Object(r.j)("trxmember/poin/tambah",t).then(e=>{Object(l.e)("success",e.data.message),localStorage.setItem("data_member",JSON.stringify([])),this.props.dispatch(Object(c.d)("HeadFormPoint")),document.getElementById("transaksi_poin_nama_member").value="",document.getElementById("transaksi_poin_alamat").value="",document.getElementById("transaksi_poin_no_hp").value="",this.setState({isLoadingTambahPoin:!1}),this.props.dispatch(Object(p.Ab)())}).catch(e=>{this.setState({isLoadingTambahPoin:!1}),Object(l.e)("info","Terjadi Kesalahan Saat Mengirim Data")})}simpanAmbilPoint(e){console.log(e),this.setState({isLoadingAmbilPoin:!0});let a=JSON.parse(localStorage.getItem("data_member")||[]),t={kode_member:a[0].kode_member,nama_customer:a[0].nama_customer,alamat_customer:a[0].alamat_customer,poin:parseInt(e.jumlah_poin)};Object(r.j)("trxmember/poin/ambil",t).then(e=>{Object(l.e)("success",e.data.message),localStorage.setItem("data_member",JSON.stringify([])),this.props.dispatch(Object(c.d)("HeadFormPoint")),document.getElementById("transaksi_poin_nama_member").value="",document.getElementById("transaksi_poin_alamat").value="",document.getElementById("transaksi_poin_no_hp").value="",this.setState({isLoadingAmbilPoin:!1}),this.props.dispatch(Object(p.Ab)())}).catch(e=>{this.setState({isLoadingAmbilPoin:!1}),Object(l.e)("info","Terjadi Kesalahan Saat Mengirim Data")})}ShowModalTambahPoin(){0===(localStorage.getItem("data_member")||[]).length?Object(l.e)("info","Kode Member Belum Diisi"):(this.props.dispatch(Object(p.Bb)()),this.setState({FormModal:"ShowModalTambahPoin"}))}ShowModalAmbilPoin(){0===(localStorage.getItem("data_member")||[]).length?Object(l.e)("info","Kode Member Belum Diisi"):(this.props.dispatch(Object(p.Bb)()),this.setState({FormModal:"ShowModalAmbilPoin"}))}render(){return i.a.createElement(s.a,null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-8"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-6"},i.a.createElement(b.a,{onChange:this.props.getKodeMember,name:"kode_member",component:h.e,type:"text",label:"Kode Member",placeholder:"Masukan Kode Member"})),i.a.createElement("div",{className:"col-lg-6"},i.a.createElement(b.a,{id:"transaksi_poin_nama_member",name:"nama_member",readOnly:!0,component:h.e,type:"text",label:"Nama Member",placeholder:"Masukan Nama Member"})))),i.a.createElement("div",{className:"col-4 text-center"},i.a.createElement(i.a.Fragment,null," \xa0 "),i.a.createElement("h1",{style:"POINT"===this.props.point?{fontSize:"4.875rem",position:"absolute",left:"56px",top:"25px"}:{fontSize:"4.875rem",position:"absolute",left:"110px",top:"25px"}}," ",this.props.point," ")),i.a.createElement("div",{className:"col-8"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-6"},i.a.createElement(b.a,{id:"transaksi_poin_alamat",name:"alamat",readOnly:!0,component:h.e,type:"text",label:"Alamat",placeholder:"Masukan Alamat"})),i.a.createElement("div",{className:"col-lg-6"},i.a.createElement(b.a,{id:"transaksi_poin_no_hp",name:"no_hp",readOnly:!0,component:h.e,type:"text",label:"No Hp",placeholder:"Masukan No Hp"})))),i.a.createElement("div",{className:"col-4 text-center"}),i.a.createElement("div",{className:"col-lg-6"},i.a.createElement("label",null,"\xa0"),i.a.createElement("button",{type:"button",onClick:()=>this.ShowModalTambahPoin(),className:"btn btn-primary btn-block"},this.props.isLoading?i.a.createElement(i.a.Fragment,null,i.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Tambah Poin"):"Tambah Poin")),i.a.createElement("div",{className:"col-lg-6"},i.a.createElement("label",null,"\xa0"),i.a.createElement("button",{type:"button",onClick:()=>this.ShowModalAmbilPoin(),className:"btn btn-warning btn-block"},this.props.isLoadingBatal?i.a.createElement(i.a.Fragment,null,i.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Ambil Poin"):"Ambil Poin"))),i.a.createElement(u.a,{size:"L",title:"ShowModalTambahPoin"===this.state.FormModal?"Tambah Poin":"Ambil Poin",content:"ShowModalTambahPoin"===this.state.FormModal?i.a.createElement(S,{isLoadingTambahPoin:this.state.isLoadingTambahPoin,onSubmit:e=>this.simpanTambahPoint(e)}):i.a.createElement(P,{isLoadingAmbilPoin:this.state.isLoadingAmbilPoin,onSubmit:e=>this.simpanAmbilPoint(e)})}),this.state.isLoadingAmbilPoin||this.state.isLoadingTambahPoin?i.a.createElement(E.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}N=Object(d.a)({form:"HeadFormPoint",enableReinitialize:!0})(N);var v=Object(o.b)(e=>({datakondisi:e.datamaster.getDataKondisiBarang,setHancurBarang:e.databarang.setHancurBarang}),null)(N);a.default=Object(o.b)(null)(class extends i.a.Component{constructor(e){super(e),this.state={isLoading:!1,point:"POINT"},this.handleSubmit=this.handleSubmit.bind(this),this.getKodeMember=this.getKodeMember.bind(this)}handleSubmit(e){}getKodeMember(e){clearTimeout(this.delay),this.delay=setTimeout(()=>{if(void 0===e.kode_member)return!1;this.setState({isLoading:!0}),Object(r.d)("member/get/by-kode-member/"+e.kode_member).then(e=>{0===e.data.length?(Object(l.e)("info","Kode Member Tersebut Tidak Ada"),document.getElementById("transaksi_poin_nama_member").value="",document.getElementById("transaksi_poin_alamat").value="",document.getElementById("transaksi_poin_no_hp").value="",this.setState({datatransaksimember:[],point:0,isLoading:!1})):(localStorage.setItem("data_member",JSON.stringify(e.data)),e.data.forEach((e,a)=>{document.getElementById("transaksi_poin_nama_member").value=e.nama_customer,document.getElementById("transaksi_poin_alamat").value=e.alamat_customer,document.getElementById("transaksi_poin_no_hp").value=e.no_hp,this.setState({datatransaksimember:[],point:e.point||0,isLoading:!1})}))})},1500)}render(){return i.a.createElement("div",null,i.a.createElement("ol",{className:"breadcrumb float-xl-right"},i.a.createElement("li",{className:"breadcrumb-item"},i.a.createElement(m.b,{to:"#"},"Member")),i.a.createElement("li",{className:"breadcrumb-item active"},"Transaksi Poin")),i.a.createElement("h1",{className:"page-header"},"Transaksi Poin "),i.a.createElement(s.a,null,i.a.createElement(s.c,null,"Transaksi Poin"),i.a.createElement("br",null),i.a.createElement("div",{className:"container"},i.a.createElement(v,{onChange:e=>this.getKodeMember(e),point:this.state.point})),i.a.createElement("br",null)),this.state.isLoading?i.a.createElement(E.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}})}}]);
//# sourceMappingURL=117.fdd58222.chunk.js.map