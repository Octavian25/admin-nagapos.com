(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{1284:function(a,t,e){"use strict";e.r(t);var n=e(0),s=e.n(n),d=e(27),i=e(131),o=e(15),r=e(48),l=e(22),c=e.n(l),g=e(24),u=e(55),m=e(13),h=e(7),p=e(92),b=e(228),E=e(329),k=e(330),_=e(30),O=e(789),f=e(61),j=e.n(f);class G extends n.Component{constructor(a){super(a),this.state={listgroup:[],aktif:!1}}componentDidMount(){setTimeout(()=>{this.props.isEdit?document.getElementById("nama_gudang").focus():document.getElementById("kode_gudang").focus()},100)}render(){return s.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:a=>{"Enter"===a.key&&a.preventDefault()},autoComplete:"off"},this.props.isEdit?s.a.createElement(s.a.Fragment,null,s.a.createElement(E.a,{name:"id",component:_.b,type:"hidden",readOnly:this.props.isEdit})):null,s.a.createElement(E.a,{id:"kode_gudang",tabIndex:"1",name:"kode_gudang",component:_.e,type:"text",label:"Kode Gudang",readOnly:this.props.isEdit,placeholder:"Masukan Kode Gudang"}),s.a.createElement(E.a,{tabIndex:"2",id:"nama_gudang",name:"nama_gudang",component:_.e,type:"text",label:"Nama Gudang",onBlur:()=>this.setState({aktif:!0}),placeholder:"Masukan Nama Gudang"}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 text-right"},s.a.createElement("button",{className:"btn btn-white",onClick:()=>this.props.dispatch(Object(o.Ab)()),type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",s.a.createElement("button",{tabIndex:"3",className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.submitting,type:"submit"},this.props.isLoading?s.a.createElement(s.a.Fragment,null,s.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?s.a.createElement(j.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}G=Object(k.a)({form:"ModalMasterGudang",enableReinitialize:!0,validate:O.a})(G);var M=Object(r.b)(a=>{if(null!==a.datamaster.ShowModalGudang)return{initialValues:{id:a.datamaster.ShowModalGudang.id,kode_gudang:a.datamaster.ShowModalGudang.kode_gudang,nama_gudang:a.datamaster.ShowModalGudang.nama_gudang}}},null)(G);const D=(a,t,e)=>{c.a.fire({html:"Apakah Anda Yakin Ingin Menghapus <h1><b>Kode Gudang "+a+"</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(a=>{a.isConfirmed&&Object(m.b)("gudang/delete/by-kode-gudang/"+t).then(()=>{Object(g.d)("Data Berhasil Di Hapus").then(()=>e(Object(o.mb)()))}).catch(a=>{Object(g.e)("error",a.response.data)})})};t.default=Object(r.b)(a=>({DataGudang:a.datamaster.getDataGudang,hideModal:a.datamaster.modalDialog}),null)(class extends s.a.Component{constructor(a){super(a),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,columns:[{dataField:"kode_gudang",text:"Kode Gudang ",sort:!0},{dataField:"nama_gudang",text:"Nama Gudang ",sort:!0},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(a,t)=>{let e={id:t._id,kode_gudang:t.kode_gudang,nama_gudang:t.nama_gudang};return s.a.createElement("div",{className:"row text-center"},"TOKO"===t.kode_gudang?null:s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-12"},s.a.createElement("button",{onClick:()=>this.formEditDataKategori(e),className:"btn btn-primary mr-3"},s.a.createElement("i",{className:"fa fa-edit"})),s.a.createElement("button",{onClick:()=>D(t.kode_gudang,t._id,this.props.dispatch),className:"btn btn-danger"},s.a.createElement("i",{className:"fa fa-trash"})))))}}]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){this.props.dispatch(Object(o.mb)("master"))}handleSubmit(a){this.setState({isLoading:!0});let t={kode_gudang:a.kode_gudang,nama_gudang:a.nama_gudang},e={kode_gudang:a.kode_gudang,nama_gudang:a.nama_gudang};this.state.isEdit?Object(m.p)("gudang/edit/by-kode-gudang/"+a.id,t).then(()=>{this.props.dispatch(Object(o.Ab)())}).then(()=>{Object(g.e)("success","Data Berhasil Diedit")}).then(()=>{this.props.dispatch(Object(o.mb)())}).then(()=>{this.setState({isLoading:!1})}).then(()=>{this.props.dispatch(Object(u.d)("ModalMasterGudang"))}).catch(a=>{Object(g.e)("info",void 0===a.response?"Terjadi Kesalahan Saat Megirim Data ":a.response.data),this.setState({isLoading:!1})}):Object(m.j)("gudang/add",e).then(()=>{this.props.dispatch(Object(o.Ab)())}).then(()=>{Object(g.e)("success","Data Berhasil Disimpan")}).then(()=>{this.props.dispatch(Object(o.mb)())}).then(()=>{this.props.dispatch(Object(u.d)("ModalMasterGudang"))}).then(()=>{this.setState({isLoading:!1})}).catch(a=>Object(h.a)(a,"gudang/reactive/by-kode-gudang/",e,this.props.dispatch,Object(o.mb)(),Object(o.Ab)(),"ModalMasterGudang").then(()=>{this.setState({isLoading:!1})}))}formEditDataKategori(a){this.props.dispatch(Object(o.Bb)()),this.props.dispatch(Object(o.X)(a)),this.setState({isEdit:!0})}shoModalGudang(){this.props.dispatch(Object(o.Bb)()),this.props.dispatch(Object(o.X)(!1)),this.setState({isEdit:!1})}render(){return s.a.createElement("div",null,s.a.createElement("ol",{className:"breadcrumb float-xl-right"},s.a.createElement("li",{className:"breadcrumb-item"},s.a.createElement(d.b,{to:"#"},"Data Master")),s.a.createElement("li",{className:"breadcrumb-item active"},"Master Gudang")),s.a.createElement("h1",{className:"page-header"},"Master Gudang "),s.a.createElement(i.a,null,s.a.createElement(i.c,null,"Master Gudang"),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement(p.a,{keyField:"kode_gudang",tambahData:!0,handleClick:()=>this.shoModalGudang(),exportCsv:!0,data:this.props.DataGudang,columns:this.state.columns,empty:this.props.DataGudang,textEmpty:"Data Gudang Kosong"})),s.a.createElement("br",null),s.a.createElement(b.a,{size:"P",title:this.state.isEdit?"Edit Data Gudang":"Tambah Data Gudang",content:s.a.createElement(M,{isEdit:this.state.isEdit,isLoading:this.state.isLoading,onSubmit:a=>this.handleSubmit(a)})})))}})},789:function(a,t,e){"use strict";t.a=((a,t)=>{const e={};return a.kode_gudang||(e.kode_gudang="Kode Gudang Tidak Boleh Kosong"),a.nama_gudang||(e.nama_gudang="Nama Gudang Tidak Boleh Kosong"),e})}}]);
//# sourceMappingURL=39.05764dd1.chunk.js.map