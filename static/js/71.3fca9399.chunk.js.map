{"version":3,"sources":["pages/Kasir/ValidasiTitipan/HeadValidasiTitipan.jsx","pages/Kasir/ValidasiTitipan/FormValidasiTitipan.jsx"],"names":["HeadValidasiTitipan","Component","constructor","props","super","this","state","isLoading","DataValidasi","btnValidasi","kode_sales","warna","componentDidMount","dispatch","getDataSales","saveValidasiJual","length","saveValidasiBeli","localStorage","setItem","JSON","stringify","e","setState","getData","then","res","change","data","nama_sales","catch","err","ToastNotification","getDetaValidasi","hasil","getData2","harga_total","forEach","element","toLocaleString","disableButtonValidasi","console","log","render","selectRow","mode","clickToSelect","selectColumnPosition","onSelect","row","isSelect","rowIndex","no_titip_group","cek","parse","getItem","findIndex","push","splice","onSelectAll","list","index","datasalses","DataSales","react_default","a","createElement","onSubmit","handleSubmit","autoComplete","onKeyPress","key","preventDefault","className","Field","name","onChange","label","placeholder","options","map","value","component","ReanderSelect","ReanderField","type","readOnly","customeCss","onClick","disabled","Fragment","panel","tabel","keyField","columns","columnsJual","empty","isLoadingBtl","btnClear","loading_default","loading","background","loaderColor","reduxForm","form","enableReinitialize","connect","datamaster","hutang","FormValidasiTitipan","React","dataField","text","footer","cell","num","footerAttrs","colSpan","formatter","toFixed","columnData","reduce","acc","item","headerClasses","parseFloat","bind","setTimeout","removeItem","reset","componentWillUnmount","validasi_titipan","postData","notabeli","feedback","jml_alamat","head","n_alamat_customer","concat","tgl_system","nama_customer","no_hp","split","total","harga_nota","detail","harga","no_faktur_beli","kode_dept","nama_barang","berat","document","getElementById","TextFile","response","file","Blob","href","URL","createObjectURL","download","body","appendChild","click","react_router_dom","to","style","display","id","rows","cols","ValidasiTitipan_HeadValidasiTitipan","columnsBeli"],"mappings":"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","file":"static/js/71.3fca9399.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { ReanderField, ReanderSelect } from \"../../../components/helpers/field\";\r\nimport { getDataSales } from \"../../../actions/datamaster_action\";\r\nimport { getData, getData2 } from \"../../../config/axios\";\r\nimport { ToastNotification } from \"../../../components/helpers/notification\";\r\nimport Tabel from \"../../../components/helpers/tabel\";\r\nimport {\r\n  disableButtonValidasi,\r\n  saveValidasiBeli,\r\n  saveValidasiJual,\r\n} from \"../../../actions/hutang_action\";\r\nimport { Panel, PanelHeader } from \"../../../components/panel/panel\";\r\nimport Loading from 'react-fullscreen-loading';\r\n\r\nconst maptostate = (state) => {\r\n  // let hasil = parseInt(localStorage.getItem('total_harga_jual')) - parseInt(localStorage.getItem('total_harga_beli'))\r\n  // let datausersvalidasi = localStorage.getItem('datausersvalidasi')===null ? [] : JSON.parse(localStorage.getItem('datausersvalidasi'));\r\n  return {\r\n    DataSales: state.datamaster.getDataSales,\r\n    saveValidasiBeli: state.hutang.saveValidasiBeli,\r\n    saveValidasiJual: state.hutang.saveValidasiJual,\r\n    btnValidasi: state.hutang.disableButtonValidasi,\r\n  };\r\n};\r\nclass HeadValidasiTitipan extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      DataValidasi: [],\r\n      btnValidasi: false,\r\n      kode_sales: false,\r\n      warna :false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataSales());\r\n    // this.props.dispatch(disableButtonValidasi());\r\n    if (this.props.saveValidasiJual.length === 0 && this.props.saveValidasiBeli.length === 0) {\r\n      localStorage.setItem(\r\n        \"validasi_titipan\",\r\n        JSON.stringify([])\r\n      );\r\n      localStorage.setItem(\r\n        \"validasi_beli\",\r\n        JSON.stringify([])\r\n      );\r\n    }\r\n  }\r\n  getDataSales(e) {\r\n    localStorage.setItem(\r\n      \"validasi_titipan\",\r\n      JSON.stringify([])\r\n    );\r\n    localStorage.setItem(\r\n      \"validasi_beli\",\r\n      JSON.stringify([])\r\n    );\r\n    this.setState({\r\n      kode_sales: e,\r\n    });\r\n    getData(\"sales/get/by-kode-sales/\" + e)\r\n      .then((res) => {\r\n        // localStorage.setItem('datausersvalidasi',JSON.stringify(res.data))\r\n        this.props.change(\"nama_sales\", res.data.nama_sales);\r\n        this.props.dispatch(saveValidasiJual([]));\r\n        this.props.dispatch(saveValidasiBeli([]));\r\n      })\r\n      .catch((err) => {\r\n        ToastNotification(\"info\", \"Gagal Mengambil Data Keserver\");\r\n      });\r\n  }\r\n  getDetaValidasi() {\r\n    let hasil = {\r\n      kode_sales: this.state.kode_sales,\r\n    };\r\n    if (hasil.kode_sales === false) {\r\n      ToastNotification(\"info\", \"Kode Sales Harus Di pilih\");\r\n      this.setState({\r\n        isLoading: false,\r\n      });\r\n      return false;\r\n    }\r\n     this.setState({\r\n      isLoading: true,\r\n    });\r\n    if (this.state.kode_sales === \"SEMUA\") {      \r\n    getData2(\"titip/unvalid\", hasil)\r\n      .then((res) => {\r\n        if (\r\n          res.data.length === 0 \r\n        ) {\r\n          ToastNotification(\"info\", \"Belum Ada Data Yang Harus Di Validasi\");\r\n          this.setState({\r\n            isLoading: false,\r\n          });\r\n          this.props.change('grandtotal',0)\r\n        } else {\r\n          let harga_total = 0;\r\n          res.data.forEach(element => {\r\n            harga_total = harga_total + element.harga_total\r\n          });\r\n\r\n          this.props.change('grandtotal',harga_total.toLocaleString(\"kr-KO\"))\r\n          ToastNotification(\"success\", \"Data Validasi Tersedia\");\r\n          this.setState({\r\n            isLoading: false,\r\n          });\r\n          this.props.dispatch(disableButtonValidasi(true));\r\n          localStorage.setItem(\r\n            \"validasi_titipan\",\r\n            JSON.stringify(res.data)\r\n          );\r\n          this.props.dispatch(saveValidasiJual(res.data));\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        ToastNotification(\"info\", \"Terjadi Kesalahan Saat Request\");\r\n        this.setState({\r\n          isLoading: false,\r\n          DataValidasi: [],\r\n        });\r\n      });\r\n    } else {\r\n      getData2(\"titip/unvalid/by-sales/\"+ this.state.kode_sales)\r\n        .then((res) => {\r\n        console.log(res);\r\n        if (\r\n          res.data.length === 0 \r\n        ) {\r\n          ToastNotification(\"info\", \"Belum Ada Data Yang Harus Di Validasi\");\r\n          this.setState({\r\n            isLoading: false,\r\n          });\r\n          this.props.change('grandtotal',0)\r\n        } else {\r\n          let harga_total = 0;\r\n          res.data.forEach(element => {\r\n            harga_total = harga_total + element.harga_total\r\n          });\r\n\r\n          this.props.change('grandtotal',harga_total.toLocaleString(\"kr-KO\"))\r\n          ToastNotification(\"success\", \"Data Validasi Tersedia\");\r\n          this.setState({\r\n            isLoading: false,\r\n          });\r\n          this.props.dispatch(disableButtonValidasi(true));\r\n          localStorage.setItem(\r\n            \"validasi_titipan\",\r\n            JSON.stringify(res.data)\r\n          );\r\n          this.props.dispatch(saveValidasiJual(res.data));\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        ToastNotification(\"info\", \"Terjadi Kesalahan Saat Request\");\r\n        this.setState({\r\n          isLoading: false,\r\n          DataValidasi: [],\r\n        });\r\n      });\r\n    }\r\n\r\n  }\r\n  render() {\r\n    const selectRow = {\r\n      mode: \"checkbox\",\r\n      clickToSelect: true,\r\n      selectColumnPosition: \"right\",\r\n      onSelect: (row, isSelect, rowIndex, e) => {\r\n        // console.log(isSelect);\r\n        if (isSelect === true) {\r\n          let hasil = {\r\n            no_titip_group: row.no_titip_group,\r\n          };\r\n          let cek = JSON.parse(localStorage.getItem(\"data_validasi_titip\")) || [];\r\n          let hasil_cek = cek.findIndex(\r\n            (hasil) => hasil.no_titip_group === row.no_titip_group\r\n          );\r\n          if (hasil_cek === -1) {\r\n            cek.push(hasil);\r\n            localStorage.setItem(\"data_validasi_titip\", JSON.stringify(cek));\r\n          }\r\n        } else {\r\n          // console.log();\r\n          if (localStorage.getItem(\"data_validasi_titip\") === null) {\r\n          } else {\r\n            let data = JSON.parse(localStorage.getItem(\"data_validasi_titip\"));\r\n            data.splice(row.no_titip_group, 1);\r\n            localStorage.setItem(\"data_validasi_titip\", JSON.stringify(data));\r\n          }\r\n        }\r\n      },\r\n      onSelectAll: (isSelect, data, e) => {\r\n        data.forEach((list, index) => {\r\n          if (isSelect === true) {\r\n            let hasil = {\r\n              no_titip_group: list.no_titip_group,\r\n            };\r\n            let cek = JSON.parse(localStorage.getItem(\"data_validasi_titip\")) || [];\r\n            let hasil_cek = cek.findIndex(\r\n              (hasil) => hasil.no_titip_group === list.no_titip_group\r\n            );\r\n            if (hasil_cek === -1) {\r\n              cek.push(hasil);\r\n              localStorage.setItem(\"data_validasi_titip\", JSON.stringify(cek));\r\n            }\r\n          } else {\r\n            if (localStorage.getItem(\"data_validasi_titip\") === null) {\r\n            } else {\r\n              let data = JSON.parse(localStorage.getItem(\"data_validasi_titip\"));\r\n              data.splice(list.no_titip_group, 1);\r\n              localStorage.setItem(\"data_validasi_titip\", JSON.stringify(data));\r\n            }\r\n          }\r\n        });\r\n      },\r\n    };\r\n    let datasalses = [\r\n      {\r\n        kode_sales : \"SEMUA\",\r\n        nama_sales: \"SEMUA\"\r\n      }\r\n    ];\r\n    this.props.DataSales.forEach(element => {\r\n      let row = {\r\n        kode_sales: element.kode_sales,\r\n        nama_sales: element.nama_sales,\r\n      }\r\n      datasalses.push(row)\r\n    });\r\n\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit} autoComplete=\"off\"\r\n      onKeyPress={(e) => {\r\n        e.key === \"Enter\" && e.preventDefault();\r\n      }}\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-3\">\r\n            <Field\r\n              name=\"kode_sales\"\r\n              onChange={(e) => this.getDataSales(e)}\r\n              label=\"Pilih Kode Sales\"\r\n              placeholder=\"Masukan Kode Sales\"\r\n              options={datasalses.map((list) => {\r\n                let data = {\r\n                  value: list.kode_sales,\r\n                  name: list.nama_sales,\r\n                };\r\n                return data;\r\n              })}\r\n              component={ReanderSelect}\r\n            />\r\n          </div>\r\n          <div className=\"col-3\">\r\n            <Field\r\n              name=\"nama_sales\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Nama Sales\"\r\n              placeholder=\"Masukan Nama Sales\"\r\n              readOnly={true}\r\n            />\r\n          </div>\r\n          <div className=\"col-3\">\r\n            <Field\r\n              name=\"grandtotal\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Grand Total\"\r\n              placeholder=\"Grand Total\"\r\n              readOnly={true}\r\n              customeCss={this.state.warna ? \"customeInput\" : \"\"}\r\n            />\r\n          </div>\r\n          <div className=\"col-3\">\r\n            <label>&nbsp;</label>\r\n            <button\r\n              onClick={() => this.getDetaValidasi()}\r\n              className=\"btn btn-primary btn-block\"\r\n              disabled={this.state.isLoading}\r\n              type=\"button\"\r\n            >\r\n              {this.state.isLoading ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Cari Data\r\n                </>\r\n              ) : (\r\n                \"Cari Data\"\r\n              )}\r\n            </button>\r\n          </div>\r\n          {/* <div className=\"col-3\">\r\n          <Field\r\n              name=\"grand_total\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Grand Total\"\r\n              placeholder=\"Grand Total\"\r\n              readOnly={true}\r\n            />\r\n          </div> */}\r\n          <div className=\"col-12\">\r\n            <Panel>\r\n              <PanelHeader>List Data Titipan</PanelHeader>\r\n              <br />\r\n              <Tabel\r\n                selectRow={selectRow}\r\n                keyField=\"kode_barcode\"\r\n                columns={this.props.columnsJual}\r\n                data={this.props.saveValidasiJual || []}\r\n                empty={true}\r\n              />\r\n            </Panel>\r\n          </div>\r\n          <div className=\"col-6\">\r\n            {this.props.btnValidasi === false ? (\r\n              <button\r\n                className=\"btn btn-primary btn-block\"\r\n                disabled={true}\r\n                type=\"button\"\r\n              >\r\n                Validasi\r\n              </button>\r\n            ) : (\r\n              <button\r\n                className=\"btn btn-primary btn-block\"\r\n                disabled={this.props.isLoading}\r\n                type=\"submit\"\r\n              >\r\n                {this.props.isLoading ? (\r\n                  <>\r\n                    <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Validasi\r\n                  </>\r\n                ) : (\r\n                  \"Validasi\"\r\n                )}\r\n              </button>\r\n            )}\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <button\r\n              className=\"btn btn-warning btn-block\"\r\n              disabled={this.props.isLoadingBtl}\r\n              onClick={this.props.btnClear}\r\n              type=\"button\"\r\n            >\r\n              {this.props.isLoadingBtl ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Batal\r\n                </>\r\n              ) : (\r\n                \"Batal\"\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {this.props.isLoading ? (\r\n        <Loading \r\n        loading\r\n        background=\"rgba(0, 0, 0, 0.35)\"\r\n         loaderColor=\"rgba(94, 147, 117, 1)\" />\r\n      ) : null}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nHeadValidasiTitipan = reduxForm({\r\n  form: \"HeadValidasiTitipanHutang\",\r\n  enableReinitialize: true,\r\n})(HeadValidasiTitipan);\r\nexport default connect(maptostate)(HeadValidasiTitipan);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { reduxForm, reset } from \"redux-form\";\r\nimport {\r\n  disableButtonValidasi,\r\n  saveValidasiBeli,\r\n  saveValidasiJual,\r\n} from \"../../../actions/hutang_action.jsx\";\r\nimport { ToastNotification } from \"../../../components/helpers/notification.jsx\";\r\nimport { Panel, PanelHeader } from \"../../../components/panel/panel.jsx\";\r\nimport { postData } from \"../../../config/axios.jsx\";\r\nimport HeadValidasiJualBeli from \"./HeadValidasiTitipan.jsx\";\r\n// import CetakFakturJualBeli from \"./pdf/CetakFakturJualBeli.jsx\";\r\n\r\nclass FormValidasiTitipan extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      isLoadingBtl: false,\r\n      columnsJual: [\r\n        {\r\n          dataField: \"no_titip_group\",\r\n          text: \"No Titip\",\r\n          footer: (cell, row, num, index) => {\r\n            return (\r\n              <div>\r\n                Total Barang :{\" \"}\r\n                {JSON.parse(localStorage.getItem(\"validasi_titipan\")) === null\r\n                  ? 0\r\n                  : JSON.parse(localStorage.getItem(\"validasi_titipan\")).length ||\r\n                    0}{\" \"}\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n        {\r\n          dataField: \"kode_barcode\",\r\n          text: \"Kode Barcode \",\r\n        },\r\n        {\r\n          dataField: \"nama_barang\",\r\n          text: \"Nama Barang\",\r\n          footer: \"\",\r\n          footerAttrs: {\r\n            colSpan: \"3\",\r\n          },\r\n        },\r\n        {\r\n          dataField: \"nama_atribut\",\r\n          text: \"Nama Atribut\",\r\n        },\r\n       \r\n        {\r\n          dataField: \"berat\",\r\n          text: \"Berat\",\r\n          formatter: (cell) => {\r\n            return cell.toFixed(3);\r\n          },\r\n          footer: (columnData) =>\r\n            columnData.reduce((acc, item) => acc + item, 0).toFixed(3),\r\n        },\r\n        // {\r\n        //   dataField: \"ongkos\",\r\n        //   text: \"Ongkos\",\r\n        //   headerClasses: 'text-right',\r\n        //   formatter: (cell) => {\r\n        //     return <div className=\"text-right\">{parseFloat(cell).toLocaleString(\"kr-KO\")}</div>;\r\n        //   },\r\n        //   footer: (columnData) => {\r\n        //     return <div className=\"text-right\"> { columnData\r\n        //       .reduce((acc, item) => acc + item, 0)\r\n        //       .toLocaleString(\"kr-KO\")  }</div>;\r\n        //   },\r\n        // },\r\n        {\r\n          dataField: \"harga_total\",\r\n          text: \"Harga\",\r\n          headerClasses: 'text-right',\r\n          footer: (columnData) => {\r\n            localStorage.setItem(\r\n              \"total_harga_beli\",\r\n              columnData.reduce((acc, item) => acc + item, 0)\r\n            );\r\n            return <div className=\"text-right\"> { columnData\r\n              .reduce((acc, item) => acc + item, 0)\r\n              .toLocaleString(\"kr-KO\")  }</div>;\r\n          },\r\n          formatter: (cell) => {\r\n            return <div className=\"text-right\">{parseFloat(cell).toLocaleString(\"kr-KO\")}</div>;\r\n          },\r\n        },\r\n      ],\r\n    };\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.btnClear = this.btnClear.bind(this);\r\n  }\r\n\r\n  btnClear() {\r\n    this.setState({\r\n      isLoadingBtl: true,\r\n    });\r\n    setTimeout(() => {\r\n      localStorage.removeItem(\"validasi_titipan\");\r\n      localStorage.removeItem(\"validasi_beli\");\r\n      this.props.dispatch(reset(\"HeadValidasiJualBeliHutang\"));\r\n      this.props.dispatch(saveValidasiJual([]));\r\n      this.props.dispatch(saveValidasiBeli([]));\r\n      this.props.dispatch(disableButtonValidasi(false));\r\n      this.setState({\r\n        isLoadingBtl: false,\r\n      });\r\n    }, 1000);\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.dispatch(saveValidasiJual([]));\r\n    this.props.dispatch(saveValidasiBeli([]));\r\n  }\r\n  handleSubmit(data) {\r\n    let validasi_titipan = JSON.parse(localStorage.getItem(\"data_validasi_titip\"));\r\n\r\n    postData(\"validasi/simpan/jualbeli\", validasi_titipan)\r\n      .then((res) => {\r\n       \r\n// console.log(res.data.notabeli);\r\nif (res.data.notabeli.length !== 0) {\r\nlet feedback = '';\r\nres.data.notabeli.forEach((row, index) => {\r\n  let jml_alamat = row.head.n_alamat_customer.length;\r\nfeedback += `========================================\r\nTanggal          : ${row.head.tgl_system}\r\nNama Customer    : ${row.head.nama_customer}\r\nNo Hp            : ${row.head.no_hp}\r\nAlamat Customer  : ${row.head.n_alamat_customer.split(0,20)}\r\n`\r\nif(jml_alamat>20){\r\nfeedback += `                   ${row.head.n_alamat_customer.split(0,20)}\r\n`;\r\n}\r\nif(jml_alamat>40){\r\nfeedback += `                   ${row.head.n_alamat_customer.split(40,20)}\r\n`;\r\n}\r\nfeedback += `========================================\\n`\r\nfeedback += `Keterangan\\n`\r\nfeedback += `========================================\\n`\r\nlet total = 0;\r\nlet harga_nota = 0;\r\nrow.detail.forEach((detail, index) => {\r\ntotal = total + detail.harga;\r\nharga_nota = harga_nota + detail.harga_nota;\r\nfeedback += `No Faktur Beli : ${detail.no_faktur_beli}\\n`\r\nfeedback += `Jenis Barang   : ${detail.kode_dept}\\n`\r\nfeedback += `Nama Barang    : ${detail.nama_barang}\\n`\r\nfeedback += `Berat          : ${detail.berat.toFixed(3)}\\n`\r\nfeedback += `Harga          : ${detail.harga.toLocaleString(\"kr-KO\")}\\n`\r\nfeedback += `========================================\\n`\r\n})\r\nfeedback += `Total          : ${total.toLocaleString(\"kr-KO\")}\\n`\r\nfeedback += `========================================\\n`\r\nfeedback += `Harga Waktu Beli   : ${total.toLocaleString(\"kr-KO\")}\\n`\r\nfeedback += `Harga Waktu Jual   : ${harga_nota.toLocaleString(\"kr-KO\")}\\n`\r\nfeedback += `\r\n\r\n\r\n\r\n`\r\n})\r\n          document.getElementById(\"myInput\").value = feedback;\r\n        setTimeout(() => {\r\n          this.TextFile();\r\n        }, 100);\r\n}\r\n        localStorage.removeItem(\"validasi_titipan\");\r\n        localStorage.removeItem(\"validasi_beli\");\r\n        this.props.dispatch(reset(\"HeadValidasiJualBeliHutang\"));\r\n        this.props.dispatch(saveValidasiJual([]));\r\n        this.props.dispatch(saveValidasiBeli([]));\r\n        ToastNotification(\"success\", \"Validasi Transaksi Berhasil\");\r\n        this.props.dispatch(disableButtonValidasi(false));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.response.data);\r\n        ToastNotification(\"info\", \"Terjadi Kesalahaan Saat Mengirim Data\");\r\n      });\r\n  }\r\n  TextFile() {\r\n    const element = document.createElement(\"a\");\r\n    const file = new Blob([document.getElementById(\"myInput\").value], {\r\n      type: \"text/plain;charset=utf-8\",\r\n    });\r\n    element.href = URL.createObjectURL(file);\r\n    element.download = \"autoprint_pembelian.txt\";\r\n    document.body.appendChild(element);\r\n    element.click();\r\n  }\r\n//   componentDidMount() {\r\n//     setTimeout(() => {\r\n//       let hasil = `========== Transaksi Pembelian =========\r\n// Nama : Samsul Arifin123\r\n// No Hp : 081238198313\r\n// KRESNO\r\n// ========================================\r\n\r\n\r\n\r\n\r\n\r\n\r\n//         `;\r\n//       document.getElementById(\"myInput\").value = hasil;\r\n//     }, 100);\r\n//   }\r\n//   cetakFaktur() {\r\n//     let data =\r\n//     {\r\n//       penjualan: [\r\n//         {\r\n//            no_faktur_group: \"44c6d744-360f-487a-98d6-11638bf24656\"\r\n//         }\r\n//     ],\r\n//     pembelian: [\r\n//         {\r\n//             no_faktur_group: \"75220216-44c0-4110-95be-e62d5cecb54f\"\r\n//         }\r\n//     ]\r\n//     }\r\n//     postData('validasi/simpan/jualbeli', data).then((res) => {\r\n//       // console.log(res.data);\r\n//       // CetakFakturJualBeli(res.data)\r\n//       let feedback = '';\r\n// res.data.notabeli.head.forEach((row, index) => {\r\n// let jml_alamat = row.n_alamat_customer.length;\r\n// feedback = `========================================\r\n// Tanggal          : ${row.tgl_system}\r\n// Nama Customer    : ${row.nama_customer}\r\n// No Hp            : ${row.no_hp}\r\n// Alamat Customer  : ${row.n_alamat_customer.split(0,20)}\r\n// `\r\n// if(jml_alamat>20){\r\n// feedback += `                   ${row.n_alamat_customer.split(0,20)}\r\n// `;\r\n// }\r\n// if(jml_alamat>40){\r\n// feedback += `                   ${row.n_alamat_customer.split(40,20)}\r\n// `;\r\n// }\r\n// feedback += `========================================\\n`\r\n// feedback += `Keterangan\\n`\r\n// feedback += `========================================\\n`\r\n// })\r\n// let total = 0;\r\n// let harga_nota = 0;\r\n// res.data.notabeli.detail.forEach((detail, index) => {\r\n// total = total + detail.harga;\r\n// harga_nota = harga_nota + detail.harga_nota;\r\n// feedback += `No Faktur Beli : ${detail.no_faktur_beli}\\n`\r\n// feedback += `Jenis Barang   : ${detail.kode_dept}\\n`\r\n// feedback += `Nama Barang    : ${detail.nama_barang}\\n`\r\n// feedback += `Berat          : ${detail.berat.toFixed(3)}\\n`\r\n// feedback += `Harga          : ${detail.harga.toLocaleString(\"kr-KO\")}\\n`\r\n// feedback += `========================================\\n`\r\n// })\r\n// feedback += `Total          : ${total.toLocaleString(\"kr-KO\")}\\n`\r\n// feedback += `========================================\\n`\r\n// feedback += `Harga Waktu Beli   : ${total.toLocaleString(\"kr-KO\")}\\n`\r\n// feedback += `Harga Waktu Jual   : ${harga_nota.toLocaleString(\"kr-KO\")}\\n`\r\n// feedback += `\r\n\r\n\r\n\r\n\r\n\r\n\r\n// `\r\n//       document.getElementById(\"myInput\").value = feedback;\r\n//       this.TextFile()\r\n//     })\r\n//   }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Kasir</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Validasi Titipan</li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Validasi Titipan </h1>\r\n        <Panel>\r\n          <PanelHeader>Validasi Titipan</PanelHeader>\r\n          <textarea\r\n            style={{ display: \"none\" }}\r\n            id=\"myInput\"\r\n            rows=\"100\"\r\n            cols=\"100\"\r\n          />\r\n\r\n          <br />\r\n          {/* Validasi Jual Beli */}\r\n          {/* <button onClick={()=>this.cetakFaktur()}> Print </button> */}\r\n          <div className=\"container\">\r\n            <HeadValidasiJualBeli\r\n              onSubmit={(data) => this.handleSubmit(data)}\r\n              btnClear={() => this.btnClear()}\r\n              isLoadingBtl={this.state.isLoadingBtl}\r\n              columnsBeli={this.state.columnsBeli}\r\n              columnsJual={this.state.columnsJual}\r\n            />\r\n          </div>\r\n          <br />\r\n          {/* End Tambah Validasi Jual Beli  */}\r\n        </Panel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nFormValidasiTitipan = reduxForm({\r\n  form: \"FormValidasiTitipan\",\r\n  enableReinitialize: true,\r\n})(FormValidasiTitipan);\r\nexport default connect()(FormValidasiTitipan);\r\n"],"sourceRoot":""}